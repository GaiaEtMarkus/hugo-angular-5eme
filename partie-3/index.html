<!doctype html><html lang=fr-fr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>- Cours Angular 5√®me ann√©e</title><meta name=description content="Cours complet Angular 20+ pour les √©tudiants de 5√®me ann√©e"><script src=https://cdn.tailwindcss.com></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><style>.prose{max-width:none;margin:0 auto;width:100%}body{background-color:#2c2c2c;color:#f0f0f0;overflow-x:auto}.prose *{box-sizing:border-box}.prose>*{display:block;width:fit-content}.prose h1,.prose h2,.prose h3,.prose h4{color:#f0f0f0;font-weight:700;display:block;width:100%}.prose h1{font-size:2.25rem;margin-top:2rem;margin-bottom:1rem}.prose h2{font-size:1.875rem;margin-top:1.5rem;margin-bottom:.75rem}.prose h3{font-size:1.5rem;margin-top:1.25rem;margin-bottom:.5rem}.prose code{background-color:transparent;padding:.25rem .5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;color:#000;border:none;display:inline}.prose pre{background-color:#fff;color:#000;padding:1.5rem;border-radius:.75rem;overflow-x:auto;margin:1.5rem 0;border:1px solid #e5e7eb;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);display:block;width:100%;box-sizing:border-box}.prose blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#d1d5db}.prose table{width:100%;border-collapse:collapse;margin:1rem 0}.prose th,.prose td{border:1px solid #4a5568;padding:.5rem;text-align:left;color:#f0f0f0}.prose th{background-color:#374151;font-weight:600;color:#f0f0f0}.prose ul,.prose ol{padding-left:1.5rem;margin:1rem 0;display:block}.prose li{margin:.25rem 0;display:list-item}.prose img{max-width:100%;height:auto;border-radius:.5rem;margin:1rem 0;display:block}.prose .highlight{background-color:#f59e0b;color:#1f2937;padding:.125rem .25rem;border-radius:.25rem}.prose .warning{background-color:#7f1d1d;border:1px solid #dc2626;color:#fecaca;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .info{background-color:#1e3a8a;border:1px solid #3b82f6;color:#bfdbfe;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .success{background-color:#14532d;border:1px solid #22c55e;color:#bbf7d0;padding:1rem;border-radius:.5rem;margin:1rem 0}</style></head><body class=min-h-screen><nav class="bg-blue-600 text-white shadow-lg"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href=https://gaiaetmarkus.github.io/hugo-angular-5eme/ class="flex items-center space-x-2"><i class="fab fa-angular text-2xl"></i>
<span class="text-xl font-bold">Cours Angular 5√®me ann√©e</span></a></div><div class="flex items-center space-x-4"><a href=/hugo-angular-5eme/introduction/ class="hover:text-blue-200 transition-colors">Introduction
</a><a href=/hugo-angular-5eme/partie-1/ class="hover:text-blue-200 transition-colors">Partie 1
</a><a href=/hugo-angular-5eme/partie-2/ class="hover:text-blue-200 transition-colors">Partie 2
</a><a href=/hugo-angular-5eme/partie-3/ class="hover:text-blue-200 transition-colors">Partie 3
</a><a href=/hugo-angular-5eme/partie-4/ class="hover:text-blue-200 transition-colors">Partie 4
</a><a href=/hugo-angular-5eme/partie-5/ class="hover:text-blue-200 transition-colors">Partie 5</a></div></div></div></nav><main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><article class="prose prose-lg mx-auto text-gray-100"><h1></h1><time datetime=0001-01-01T00:00:00+00:00>January 1, 1</time><h1 id=partie-3--gestion-d√©tat-avanc√©e-et-composants-personnalis√©s>Partie 3 : Gestion d&rsquo;√âtat Avanc√©e et Composants Personnalis√©s</h1><h2 id=-objectifs-de-la-partie-3>üéØ Objectifs de la Partie 3</h2><p>√Ä la fin de cette partie, vous serez capable de :</p><ul><li>‚úÖ Ma√Ætriser la gestion d&rsquo;√©tat avec Signals (avantages vs anciennes m√©thodes)</li><li>‚úÖ Cr√©er des pipes personnalis√©s pour la transformation de donn√©es</li><li>‚úÖ D√©velopper des directives personnalis√©es</li><li>‚úÖ Impl√©menter une communication avanc√©e entre composants</li><li>‚úÖ Optimiser les performances avec les nouvelles fonctionnalit√©s Angular 20+</li></ul><hr><h2 id=-√©tape-31--gestion-d√©tat-avanc√©e-avec-signals>üîÑ √âtape 3.1 : Gestion d&rsquo;√âtat Avanc√©e avec Signals</h2><h3 id=pourquoi-les-signals-sont-r√©volutionnaires-><strong>Pourquoi les Signals sont r√©volutionnaires ?</strong></h3><p>Les Signals d&rsquo;Angular 20+ repr√©sentent une <strong>r√©volution</strong> dans la gestion d&rsquo;√©tat par rapport aux anciennes m√©thodes :</p><h4 id=-comparaison-avec-les-anciennes-m√©thodes-><strong>üîÑ Comparaison avec les anciennes m√©thodes :</strong></h4><p><strong>‚ùå Ancienne m√©thode (BehaviorSubject/Observable) :</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// Service avec BehaviorSubject
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>todosSubject</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BehaviorSubject</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>todos$</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todosSubject</span><span class=p>.</span><span class=nx>asObservable</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span>: <span class=kt>Todo</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>currentTodos</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todosSubject</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todosSubject</span><span class=p>.</span><span class=nx>next</span><span class=p>([...</span><span class=nx>currentTodos</span><span class=p>,</span> <span class=nx>todo</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Composant avec Observable
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoListComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>todos$</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todoService</span><span class=p>.</span><span class=nx>todos$</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>(</span><span class=kr>private</span> <span class=nx>todoService</span>: <span class=kt>TodoService</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span>: <span class=kt>Todo</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todoService</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>‚úÖ Nouvelle m√©thode (Signals) :</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// Service avec Signals
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>todos</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>todos</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>asReadonly</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span>: <span class=kt>Todo</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span><span class=nx>todos</span> <span class=o>=&gt;</span> <span class=p>[...</span><span class=nx>todos</span><span class=p>,</span> <span class=nx>todo</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Composant avec Signals
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoListComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>todos</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todoService</span><span class=p>.</span><span class=nx>todos</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>(</span><span class=kr>private</span> <span class=nx>todoService</span>: <span class=kt>TodoService</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span>: <span class=kt>Todo</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todoService</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=-avantages-des-signals-><strong>üöÄ Avantages des Signals :</strong></h4><ol><li><p><strong>‚ö° Performance sup√©rieure</strong> :</p><ul><li>D√©tection de changements granulaire</li><li>Pas de cycle de d√©tection complet</li><li>Mise √† jour uniquement des composants concern√©s</li></ul></li><li><p><strong>üß† Simplicit√© d&rsquo;utilisation</strong> :</p><ul><li>Pas de <code>subscribe()</code>/<code>unsubscribe()</code></li><li>Pas de gestion de la m√©moire</li><li>Syntaxe plus intuitive</li></ul></li><li><p><strong>üîí Type safety</strong> :</p><ul><li>Typage strict par d√©faut</li><li>Moins d&rsquo;erreurs runtime</li><li>Meilleur support IDE</li></ul></li><li><p><strong>üîÑ R√©activit√© automatique</strong> :</p><ul><li>Mise √† jour automatique du template</li><li>Pas d&rsquo;<code>async</code> pipe n√©cessaire</li><li>Gestion automatique du cycle de vie</li></ul></li></ol><h3 id=impl√©mentation-des-signals-avanc√©s><strong>Impl√©mentation des Signals avanc√©s</strong></h3><h4 id=1-signal-computed-d√©riv√©>**1. Signal computed (d√©riv√©)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>todos</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// Signal computed - se recalcule automatiquement
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>public</span> <span class=nx>completedTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=o>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=s1>&#39;done&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>pendingTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=o>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=s1>&#39;todo&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>inProgressTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=o>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=s1>&#39;in-progress&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>highPriorityTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=o>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>priority</span> <span class=o>===</span> <span class=s1>&#39;high&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>todoStats</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>total</span>: <span class=kt>this.todos</span><span class=p>().</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>completed</span>: <span class=kt>this.completedTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>inProgress</span>: <span class=kt>this.inProgressTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>pending</span>: <span class=kt>this.pendingTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>highPriority</span>: <span class=kt>this.highPriorityTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>completionRate</span>: <span class=kt>this.todos</span><span class=p>().</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>0</span> 
</span></span><span class=line><span class=cl>      <span class=o>?</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>completedTodos</span><span class=p>().</span><span class=nx>length</span> <span class=o>/</span> <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>length</span><span class=p>)</span> <span class=o>*</span> <span class=nx>100</span> 
</span></span><span class=line><span class=cl>      : <span class=kt>0</span>
</span></span><span class=line><span class=cl>  <span class=p>}));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>üîß Correction importante :</strong> Nous avons s√©par√© les computed signals par statut exact pour √©viter les doublons entre les colonnes Kanban.</p><h4 id=2-signal-writable-avec-validation><strong>2. Signal writable avec validation</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>UserService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>currentUser</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>User</span> <span class=err>|</span> <span class=na>null</span><span class=p>&gt;(</span><span class=kc>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// Signal avec validation
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>public</span> <span class=nx>isAdmin</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>currentUser</span><span class=p>()</span><span class=o>?</span><span class=p>.</span><span class=nx>role</span> <span class=o>===</span> <span class=s1>&#39;admin&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>canEditTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>currentUser</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>isAdmin</span><span class=p>()</span> <span class=o>||</span> <span class=k>this</span><span class=p>.</span><span class=nx>currentUser</span><span class=p>()</span><span class=o>?</span><span class=p>.</span><span class=nx>role</span> <span class=o>===</span> <span class=s1>&#39;user&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=3-signal-avec-effets><strong>3. Signal avec effets</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>todos</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Effet qui se d√©clenche automatiquement
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>effect</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>todos</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=sb>`Todos mis √† jour: </span><span class=si>${</span><span class=nx>todos</span><span class=p>.</span><span class=nx>length</span><span class=si>}</span><span class=sb> todos`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// Sauvegarder dans localStorage
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s1>&#39;todos&#39;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>todos</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-32--pipes-personnalis√©s>üé® √âtape 3.2 : Pipes Personnalis√©s</h2><h3 id=pourquoi-cr√©er-des-pipes-personnalis√©s-><strong>Pourquoi cr√©er des pipes personnalis√©s ?</strong></h3><p>Les pipes permettent de <strong>transformer les donn√©es</strong> dans le template sans modifier la logique du composant. Ils sont :</p><ul><li><strong>R√©utilisables</strong> : Un pipe peut √™tre utilis√© dans plusieurs composants</li><li><strong>Performants</strong> : Mise en cache automatique des r√©sultats</li><li><strong>Testables</strong> : Logique pure, facile √† tester</li><li><strong>Maintenables</strong> : S√©paration claire entre logique et pr√©sentation</li></ul><h3 id=cr√©ation-de-pipes-personnalis√©s><strong>Cr√©ation de pipes personnalis√©s</strong></h3><h4 id=1-pipe-de-formatage-de-priorit√©---impl√©ment√©><strong>1. Pipe de formatage de priorit√© - IMPL√âMENT√â</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/pipes/priority.pipe.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Pipe</span><span class=p>,</span> <span class=nx>PipeTransform</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Pipe</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;priority&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>PriorityPipe</span> <span class=kr>implements</span> <span class=nx>PipeTransform</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>transform</span><span class=p>(</span><span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;low&#39;</span> <span class=o>|</span> <span class=s1>&#39;medium&#39;</span> <span class=o>|</span> <span class=s1>&#39;high&#39;</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>priorityMap</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>low</span><span class=o>:</span> <span class=s1>&#39;Faible&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>medium</span><span class=o>:</span> <span class=s1>&#39;Moyenne&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>high</span><span class=o>:</span> <span class=s1>&#39;Haute&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>priorityMap</span><span class=p>[</span><span class=nx>priority</span><span class=p>]</span> <span class=o>||</span> <span class=nx>priority</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-pipe-de-formatage-de-dur√©e---impl√©ment√©><strong>2. Pipe de formatage de dur√©e - IMPL√âMENT√â</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/pipes/duration.pipe.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Pipe</span><span class=p>,</span> <span class=nx>PipeTransform</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Pipe</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;duration&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>DurationPipe</span> <span class=kr>implements</span> <span class=nx>PipeTransform</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>transform</span><span class=p>(</span><span class=nx>minutes</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>minutes</span> <span class=o>&lt;</span> <span class=mi>60</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=sb>`</span><span class=si>${</span><span class=nx>minutes</span><span class=si>}</span><span class=sb> min`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>hours</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>minutes</span> <span class=o>/</span> <span class=mi>60</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>remainingMinutes</span> <span class=o>=</span> <span class=nx>minutes</span> <span class=o>%</span> <span class=mi>60</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>remainingMinutes</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=sb>`</span><span class=si>${</span><span class=nx>hours</span><span class=si>}</span><span class=sb>h`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sb>`</span><span class=si>${</span><span class=nx>hours</span><span class=si>}</span><span class=sb>h </span><span class=si>${</span><span class=nx>remainingMinutes</span><span class=si>}</span><span class=sb>min`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=utilisation-des-pipes-dans-les-templates><strong>Utilisation des pipes dans les templates</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- Formatage de priorit√© --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>span</span> 
</span></span><span class=line><span class=cl>  <span class=na>class</span><span class=o>=</span><span class=s>&#34;px-2 py-1 text-xs font-semibold rounded-full&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>bg-red-100</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>high</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>text-red-800</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>high</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>bg-yellow-100</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>medium</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>text-yellow-800</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>medium</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>bg-green-100</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>low</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>class</span><span class=err>.</span><span class=na>text-green-800</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>low</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ todo.priority | priority }}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-33--directives-personnalis√©es>üéõÔ∏è √âtape 3.3 : Directives Personnalis√©es</h2><h3 id=pourquoi-cr√©er-des-directives-personnalis√©es-><strong>Pourquoi cr√©er des directives personnalis√©es ?</strong></h3><p>Les directives permettent d&rsquo;<strong>√©tendre le comportement HTML</strong> et de cr√©er des <strong>composants r√©utilisables</strong> :</p><ul><li><strong>R√©utilisabilit√©</strong> : Une directive peut √™tre appliqu√©e √† n&rsquo;importe quel √©l√©ment</li><li><strong>Encapsulation</strong> : Logique m√©tier isol√©e</li><li><strong>Performance</strong> : Moins de composants = moins de surcharge</li><li><strong>Flexibilit√©</strong> : Comportement dynamique selon les param√®tres</li></ul><h3 id=cr√©ation-de-directives-personnalis√©es><strong>Cr√©ation de directives personnalis√©es</strong></h3><h4 id=1-directive-de-highlight---impl√©ment√©><strong>1. Directive de highlight - IMPL√âMENT√â</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/directives/highlight.directive.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Directive</span><span class=p>,</span> <span class=nx>ElementRef</span><span class=p>,</span> <span class=nx>Input</span><span class=p>,</span> <span class=nx>OnInit</span><span class=p>,</span> <span class=nx>Renderer2</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Directive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;[appHighlight]&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>HighlightDirective</span> <span class=kr>implements</span> <span class=nx>OnInit</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>@Input</span><span class=p>()</span> <span class=nx>appHighlight</span>: <span class=kt>string</span> <span class=o>=</span> <span class=s1>&#39;yellow&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>@Input</span><span class=p>()</span> <span class=nx>appHighlightDelay</span>: <span class=kt>number</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=kr>private</span> <span class=nx>el</span>: <span class=kt>ElementRef</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=kr>private</span> <span class=nx>renderer</span>: <span class=kt>Renderer2</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>ngOnInit() {</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>renderer</span><span class=p>.</span><span class=nx>setStyle</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>el</span><span class=p>.</span><span class=nx>nativeElement</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;background-color&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>appHighlight</span>
</span></span><span class=line><span class=cl>      <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=k>this</span><span class=p>.</span><span class=nx>appHighlightDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=utilisation-des-directives-dans-les-templates><strong>Utilisation des directives dans les templates</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- Highlight avec priorit√© --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> 
</span></span><span class=line><span class=cl>  <span class=na>class</span><span class=o>=</span><span class=s>&#34;bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-400&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>appHighlight</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>high</span><span class=err>&#39;</span> <span class=err>?</span> <span class=err>&#39;</span><span class=na>rgba</span><span class=err>(</span><span class=na>239</span><span class=err>,</span> <span class=na>68</span><span class=err>,</span> <span class=na>68</span><span class=err>,</span> <span class=na>0</span><span class=err>.</span><span class=na>1</span><span class=err>)&#39;</span> <span class=na>:</span> <span class=err>&#39;</span><span class=na>transparent</span><span class=err>&#39;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=err>[</span><span class=na>appHighlightDelay</span><span class=err>]=&#34;</span><span class=na>todo</span><span class=err>.</span><span class=na>priority </span><span class=o>=</span><span class=s>==</span> <span class=err>&#39;</span><span class=na>high</span><span class=err>&#39;</span> <span class=err>?</span> <span class=na>500</span> <span class=na>:</span> <span class=na>0</span><span class=err>&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Contenu du todo --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-34--communication-avanc√©e-entre-composants>üîó √âtape 3.4 : Communication Avanc√©e entre Composants</h2><h3 id=patterns-de-communication><strong>Patterns de communication</strong></h3><h4 id=1-service-partag√©-avec-signals---impl√©ment√©><strong>1. Service partag√© avec Signals - IMPL√âMENT√â</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/services/error.service.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Injectable</span><span class=p>,</span> <span class=nx>signal</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>interface</span> <span class=nx>ErrorNotification</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>id</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>message</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>type</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span> <span class=o>|</span> <span class=s1>&#39;warning&#39;</span> <span class=o>|</span> <span class=s1>&#39;info&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>timestamp</span>: <span class=kt>Date</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Injectable</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>providedIn</span><span class=o>:</span> <span class=s1>&#39;root&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>ErrorService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>errors</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>ErrorNotification</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>errors$</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>asReadonly</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>showError</span><span class=p>(</span><span class=nx>message</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>addNotification</span><span class=p>(</span><span class=nx>message</span><span class=p>,</span> <span class=s1>&#39;error&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>showWarning</span><span class=p>(</span><span class=nx>message</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>addNotification</span><span class=p>(</span><span class=nx>message</span><span class=p>,</span> <span class=s1>&#39;warning&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>showInfo</span><span class=p>(</span><span class=nx>message</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>addNotification</span><span class=p>(</span><span class=nx>message</span><span class=p>,</span> <span class=s1>&#39;info&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>addNotification</span><span class=p>(</span><span class=nx>message</span>: <span class=kt>string</span><span class=p>,</span> <span class=kr>type</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span> <span class=o>|</span> <span class=s1>&#39;warning&#39;</span> <span class=o>|</span> <span class=s1>&#39;info&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>notification</span>: <span class=kt>ErrorNotification</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span>: <span class=kt>this.generateId</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=nx>message</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=kr>type</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>timestamp</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span><span class=nx>errors</span> <span class=o>=&gt;</span> <span class=p>[...</span><span class=nx>errors</span><span class=p>,</span> <span class=nx>notification</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Auto-remove after 5 seconds
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>removeError</span><span class=p>(</span><span class=nx>notification</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>5000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>removeError</span><span class=p>(</span><span class=nx>id</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span><span class=nx>errors</span> <span class=o>=&gt;</span> <span class=nx>errors</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>error</span> <span class=o>=&gt;</span> <span class=nx>error</span><span class=p>.</span><span class=nx>id</span> <span class=o>!==</span> <span class=nx>id</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>clearAll() {</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=kr>set</span><span class=p>([]);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>generateId</span><span class=p>()</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>().</span><span class=nx>toString</span><span class=p>()</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-composant-de-notification-global---impl√©ment√©><strong>2. Composant de notification global - IMPL√âMENT√â</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/components/notifications/notifications.component.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Component</span><span class=p>,</span> <span class=nx>inject</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>CommonModule</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/common&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ErrorService</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;../../services/error.service&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Component</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;app-notifications&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>imports</span><span class=o>:</span> <span class=p>[</span><span class=nx>CommonModule</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>template</span><span class=o>:</span> <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;div class=&#34;fixed top-4 right-4 z-50 space-y-2&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      @for (notification of errorService.errors$(); track notification.id) {
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div 
</span></span></span><span class=line><span class=cl><span class=sb>          class=&#34;w-fit max-w-md p-4 rounded-lg shadow-lg text-white flex items-center justify-between&#34;
</span></span></span><span class=line><span class=cl><span class=sb>          [class]=&#34;{
</span></span></span><span class=line><span class=cl><span class=sb>            &#39;bg-red-500&#39;: notification.type === &#39;error&#39;,
</span></span></span><span class=line><span class=cl><span class=sb>            &#39;bg-yellow-500&#39;: notification.type === &#39;warning&#39;,
</span></span></span><span class=line><span class=cl><span class=sb>            &#39;bg-blue-500&#39;: notification.type === &#39;info&#39;
</span></span></span><span class=line><span class=cl><span class=sb>          }&#34;
</span></span></span><span class=line><span class=cl><span class=sb>        &gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;div class=&#34;flex items-center space-x-2&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;!-- Ic√¥ne selon le type --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            @if (notification.type === &#39;error&#39;) {
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;svg class=&#34;w-5 h-5&#34; fill=&#34;currentColor&#34; viewBox=&#34;0 0 20 20&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;path fill-rule=&#34;evenodd&#34; d=&#34;M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z&#34; clip-rule=&#34;evenodd&#34;&gt;&lt;/path&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/svg&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            }
</span></span></span><span class=line><span class=cl><span class=sb>            @if (notification.type === &#39;warning&#39;) {
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;svg class=&#34;w-5 h-5&#34; fill=&#34;currentColor&#34; viewBox=&#34;0 0 20 20&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;path fill-rule=&#34;evenodd&#34; d=&#34;M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z&#34; clip-rule=&#34;evenodd&#34;&gt;&lt;/path&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/svg&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            }
</span></span></span><span class=line><span class=cl><span class=sb>            @if (notification.type === &#39;info&#39;) {
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;svg class=&#34;w-5 h-5&#34; fill=&#34;currentColor&#34; viewBox=&#34;0 0 20 20&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;path fill-rule=&#34;evenodd&#34; d=&#34;M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z&#34; clip-rule=&#34;evenodd&#34;&gt;&lt;/path&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/svg&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            }
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;span&gt;{{ notification.message }}&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;button 
</span></span></span><span class=line><span class=cl><span class=sb>            (click)=&#34;errorService.removeError(notification.id)&#34;
</span></span></span><span class=line><span class=cl><span class=sb>            class=&#34;ml-4 text-white hover:text-gray-200&#34;
</span></span></span><span class=line><span class=cl><span class=sb>          &gt;
</span></span></span><span class=line><span class=cl><span class=sb>            √ó
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;/button&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      }
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>  `</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>NotificationsComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>errorService</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=nx>ErrorService</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-35--am√©lioration-du-composant-todolist>üéØ √âtape 3.5 : Am√©lioration du composant TodoList</h2><h3 id=int√©gration-des-signals-avanc√©s><strong>Int√©gration des Signals avanc√©s</strong></h3><h4 id=1-utilisation-des-computed-signals-dans-le-template><strong>1. Utilisation des computed signals dans le template</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/features/todos/components/todo-list.component.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Component</span><span class=p>,</span> <span class=nx>inject</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>CommonModule</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/common&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>TodoService</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;../services/todo.service&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PriorityPipe</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;../../../shared/pipes/priority.pipe&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>HighlightDirective</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;../../../shared/directives/highlight.directive&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Component</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;app-todo-list&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>imports</span><span class=o>:</span> <span class=p>[</span><span class=nx>CommonModule</span><span class=p>,</span> <span class=nx>PriorityPipe</span><span class=p>,</span> <span class=nx>HighlightDirective</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>template</span><span class=o>:</span> <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;!-- Dashboard des statistiques --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;div class=&#34;mb-8&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;h2 class=&#34;text-2xl font-bold text-gray-900 mb-4&#34;&gt;Statistiques en temps r√©el&lt;/h2&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;div class=&#34;grid grid-cols-1 md:grid-cols-5 gap-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;bg-white p-4 rounded-lg shadow&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;h3 class=&#34;text-sm font-medium text-gray-500&#34;&gt;Total&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;p class=&#34;text-2xl font-bold text-gray-900&#34;&gt;{{ todoService.todoStats().total }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;bg-white p-4 rounded-lg shadow&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;h3 class=&#34;text-sm font-medium text-gray-500&#34;&gt;Compl√©t√©s&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;p class=&#34;text-2xl font-bold text-green-600&#34;&gt;{{ todoService.todoStats().completed }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;bg-white p-4 rounded-lg shadow&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;h3 class=&#34;text-sm font-medium text-gray-500&#34;&gt;En cours&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;p class=&#34;text-2xl font-bold text-blue-600&#34;&gt;{{ todoService.todoStats().inProgress }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;bg-white p-4 rounded-lg shadow&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;h3 class=&#34;text-sm font-medium text-gray-500&#34;&gt;Priorit√© haute&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;p class=&#34;text-2xl font-bold text-red-600&#34;&gt;{{ todoService.todoStats().highPriority }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;bg-white p-4 rounded-lg shadow&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;h3 class=&#34;text-sm font-medium text-gray-500&#34;&gt;Taux de compl√©tion&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;p class=&#34;text-2xl font-bold text-purple-600&#34;&gt;{{ todoService.todoStats().completionRate | number:&#39;1.0-0&#39; }}%&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;!-- Colonnes Kanban --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;div class=&#34;grid grid-cols-1 md:grid-cols-3 gap-6&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;!-- √Ä faire --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;div class=&#34;bg-gray-50 rounded-lg p-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;h3 class=&#34;text-lg font-semibold text-gray-900 mb-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          √Ä faire
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;span class=&#34;text-sm text-gray-500&#34;&gt;({{ todoService.pendingTodos().length }})&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;space-y-3&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          @for (todo of todoService.pendingTodos(); track todo.id) {
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;div 
</span></span></span><span class=line><span class=cl><span class=sb>              class=&#34;bg-white p-4 rounded-lg shadow-sm border-l-4 border-gray-400&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlight]=&#34;todo.priority === &#39;high&#39; ? &#39;rgba(239, 68, 68, 0.1)&#39; : &#39;transparent&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlightDelay]=&#34;todo.priority === &#39;high&#39; ? 500 : 0&#34;
</span></span></span><span class=line><span class=cl><span class=sb>            &gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-start mb-2&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;h4 class=&#34;font-medium text-gray-900&#34;&gt;{{ todo.title }}&lt;/h4&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span 
</span></span></span><span class=line><span class=cl><span class=sb>                  class=&#34;px-2 py-1 text-xs font-semibold rounded-full&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-red-100]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-red-800]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-yellow-100]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-yellow-800]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-green-100]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-green-800]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                &gt;
</span></span></span><span class=line><span class=cl><span class=sb>                  {{ todo.priority | priority }}
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              @if (todo.description) {
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;p class=&#34;text-sm text-gray-600 mb-3&#34;&gt;{{ todo.description }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              }
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-center text-xs text-gray-500&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span&gt;Cr√©√© le {{ todo.createdAt | date:&#39;dd/MM/yyyy&#39; }}&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          }
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;!-- En cours --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;div class=&#34;bg-gray-50 rounded-lg p-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;h3 class=&#34;text-lg font-semibold text-gray-900 mb-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          En cours
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;span class=&#34;text-sm text-gray-500&#34;&gt;({{ todoService.inProgressTodos().length }})&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;space-y-3&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          @for (todo of todoService.inProgressTodos(); track todo.id) {
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;div 
</span></span></span><span class=line><span class=cl><span class=sb>              class=&#34;bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-400&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlight]=&#34;todo.priority === &#39;high&#39; ? &#39;rgba(239, 68, 68, 0.1)&#39; : &#39;transparent&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlightDelay]=&#34;todo.priority === &#39;high&#39; ? 500 : 0&#34;
</span></span></span><span class=line><span class=cl><span class=sb>            &gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-start mb-2&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;h4 class=&#34;font-medium text-gray-900&#34;&gt;{{ todo.title }}&lt;/h4&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span 
</span></span></span><span class=line><span class=cl><span class=sb>                  class=&#34;px-2 py-1 text-xs font-semibold rounded-full&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-red-100]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-red-800]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-yellow-100]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-yellow-800]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-green-100]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-green-800]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                &gt;
</span></span></span><span class=line><span class=cl><span class=sb>                  {{ todo.priority | priority }}
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              @if (todo.description) {
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;p class=&#34;text-sm text-gray-600 mb-3&#34;&gt;{{ todo.description }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              }
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-center text-xs text-gray-500&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span&gt;Mis √† jour le {{ todo.updatedAt | date:&#39;dd/MM/yyyy&#39; }}&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          }
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;!-- Termin√© --&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;div class=&#34;bg-gray-50 rounded-lg p-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;h3 class=&#34;text-lg font-semibold text-gray-900 mb-4&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          Termin√©
</span></span></span><span class=line><span class=cl><span class=sb>          &lt;span class=&#34;text-sm text-gray-500&#34;&gt;({{ todoService.completedTodos().length }})&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;div class=&#34;space-y-3&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          @for (todo of todoService.completedTodos(); track todo.id) {
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;div 
</span></span></span><span class=line><span class=cl><span class=sb>              class=&#34;bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-400&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlight]=&#34;todo.priority === &#39;high&#39; ? &#39;rgba(34, 197, 94, 0.1)&#39; : &#39;transparent&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>              [appHighlightDelay]=&#34;todo.priority === &#39;high&#39; ? 500 : 0&#34;
</span></span></span><span class=line><span class=cl><span class=sb>            &gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-start mb-2&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;h4 class=&#34;font-medium text-gray-900 line-through&#34;&gt;{{ todo.title }}&lt;/h4&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span 
</span></span></span><span class=line><span class=cl><span class=sb>                  class=&#34;px-2 py-1 text-xs font-semibold rounded-full&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-red-100]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-red-800]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-yellow-100]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-yellow-800]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.bg-green-100]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                  [class.text-green-800]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span class=line><span class=cl><span class=sb>                &gt;
</span></span></span><span class=line><span class=cl><span class=sb>                  {{ todo.priority | priority }}
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              @if (todo.description) {
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;p class=&#34;text-sm text-gray-600 mb-3 line-through&#34;&gt;{{ todo.description }}&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              }
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;div class=&#34;flex justify-between items-center text-xs text-gray-500&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=sb>                &lt;span&gt;Termin√© le {{ todo.updatedAt | date:&#39;dd/MM/yyyy&#39; }}&lt;/span&gt;
</span></span></span><span class=line><span class=cl><span class=sb>              &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>            &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>          }
</span></span></span><span class=line><span class=cl><span class=sb>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>      &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=sb>  `</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoListComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>todoService</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>üîß Corrections importantes apport√©es :</strong></p><ul><li>‚úÖ <strong>Logique des computed signals</strong> : S√©paration par statut exact (<code>todo</code>, <code>in-progress</code>, <code>done</code>)</li><li>‚úÖ <strong>Suppression des doublons</strong> : Chaque todo n&rsquo;appara√Æt que dans sa colonne correspondante</li><li>‚úÖ <strong>Performance optimis√©e</strong> : Utilisation directe des computed signals dans le template</li><li>‚úÖ <strong>Int√©gration des pipes et directives</strong> : <code>PriorityPipe</code> et <code>HighlightDirective</code> int√©gr√©s</li></ul><hr><h2 id=-tests-des-composants-personnalis√©s>üß™ Tests des composants personnalis√©s</h2><h3 id=test-d><strong>Test d&rsquo;un pipe personnalis√©</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/pipes/priority.pipe.spec.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>PriorityPipe</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./priority.pipe&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;PriorityPipe&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>pipe</span>: <span class=kt>PriorityPipe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>pipe</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PriorityPipe</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should translate priority values correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;low&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Faible&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;medium&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Moyenne&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;high&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Haute&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should return original value for unknown priority&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span> <span class=kr>as</span> <span class=kt>any</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=test-d-1><strong>Test d&rsquo;une directive personnalis√©e</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/directives/highlight.directive.spec.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ComponentFixture</span><span class=p>,</span> <span class=nx>TestBed</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core/testing&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>HighlightDirective</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./highlight.directive&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Component</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Component</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;&lt;div [appHighlight]=&#34;color&#34; [appHighlightDelay]=&#34;delay&#34;&gt;Test&lt;/div&gt;&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>TestComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>color</span> <span class=o>=</span> <span class=s1>&#39;yellow&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>delay</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;HighlightDirective&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>component</span>: <span class=kt>TestComponent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>fixture</span>: <span class=kt>ComponentFixture</span><span class=p>&lt;</span><span class=nt>TestComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>configureTestingModule</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>imports</span><span class=o>:</span> <span class=p>[</span><span class=nx>HighlightDirective</span><span class=p>,</span> <span class=nx>TestComponent</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}).</span><span class=nx>compileComponents</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fixture</span> <span class=o>=</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>createComponent</span><span class=p>(</span><span class=nx>TestComponent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span> <span class=o>=</span> <span class=nx>fixture</span><span class=p>.</span><span class=nx>componentInstance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should apply highlight color&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=s1>&#39;red&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>fixture</span><span class=p>.</span><span class=nx>detectChanges</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>element</span> <span class=o>=</span> <span class=nx>fixture</span><span class=p>.</span><span class=nx>nativeElement</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;div&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>element</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>backgroundColor</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tat-actuel-de-lapplication>üéØ √âtat actuel de l&rsquo;application</h2><h3 id=fonctionnalit√©s-impl√©ment√©es-><strong>Fonctionnalit√©s impl√©ment√©es :</strong></h3><ul><li>‚úÖ <strong>Gestion d&rsquo;√©tat avanc√©e</strong> : Signals avec computed et effects</li><li>‚úÖ <strong>Pipes personnalis√©s</strong> : Formatage et transformation de donn√©es</li><li>‚úÖ <strong>Directives personnalis√©es</strong> : Comportements r√©utilisables</li><li>‚úÖ <strong>Communication avanc√©e</strong> : Service de notification global</li><li>‚úÖ <strong>Dashboard en temps r√©el</strong> : Statistiques automatiques avec Signals</li><li>‚úÖ <strong>Colonnes Kanban optimis√©es</strong> : Pas de doublons, filtrage pr√©cis</li></ul><h3 id=concepts-ma√Ætris√©s-><strong>Concepts ma√Ætris√©s :</strong></h3><ul><li><strong>Signals avanc√©s</strong> : computed, effects, writable signals</li><li><strong>Pipes personnalis√©s</strong> : Transformation de donn√©es dans les templates</li><li><strong>Directives personnalis√©es</strong> : Extension du comportement HTML</li><li><strong>Communication entre composants</strong> : Services partag√©s avec Signals</li><li><strong>Performance optimis√©e</strong> : Utilisation des computed signals pour √©viter les recalculs</li></ul><h3 id=corrections-apport√©es-><strong>Corrections apport√©es :</strong></h3><ul><li>üîß <strong>Logique des computed signals</strong> : Filtrage par statut exact pour √©viter les doublons</li><li>üîß <strong>Performance</strong> : Utilisation directe des computed signals dans le template</li><li>üîß <strong>Int√©gration</strong> : Pipes et directives correctement int√©gr√©s</li></ul><h3 id=pr√™t-pour-la-partie-4-><strong>Pr√™t pour la Partie 4 :</strong></h3><ul><li>‚úÖ Gestion d&rsquo;√©tat moderne avec Signals</li><li>‚úÖ Composants r√©utilisables (pipes, directives)</li><li>‚úÖ Communication avanc√©e entre composants</li><li>‚úÖ Performance optimis√©e avec computed signals</li></ul><hr><p><em>üí° <strong>Conseil du mentor :</strong> Les Signals repr√©sentent l&rsquo;avenir d&rsquo;Angular. Prenez le temps de bien comprendre leurs avantages par rapport aux Observables. Les pipes et directives personnalis√©s vous permettront de cr√©er des composants tr√®s r√©utilisables.</em></p><p><em>üîß <strong>Conseil qualit√© :</strong> Cr√©ez toujours des tests pour vos pipes et directives personnalis√©s. Ils sont plus faciles √† tester que les composants car ils ont moins de d√©pendances.</em></p><hr><h2 id=-pr√©paration-pour-la-partie-4>üöÄ Pr√©paration pour la Partie 4</h2><h3 id=objectifs-de-la-partie-4-><strong>Objectifs de la Partie 4 :</strong></h3><ul><li>üß™ <strong>Tests complets</strong> : Tests unitaires, d&rsquo;int√©gration et e2e</li><li>‚ö° <strong>Optimisations de performance</strong> : OnPush strategy, trackBy, lazy loading</li><li>üöÄ <strong>D√©ploiement</strong> : Build de production, d√©ploiement sur diff√©rents plateformes</li><li>üìã <strong>Bonnes pratiques</strong> : Code review, refactoring, documentation</li></ul><h3 id=concepts-√†-ma√Ætriser-><strong>Concepts √† ma√Ætriser :</strong></h3><ul><li><strong>Tests Angular</strong> : Jasmine, TestBed, ComponentFixture</li><li><strong>Performance</strong> : ChangeDetectionStrategy, OnPush, trackBy</li><li><strong>Build et d√©ploiement</strong> : Angular CLI, environnement de production</li><li><strong>Bonnes pratiques</strong> : Code review, refactoring, documentation</li></ul><h3 id=pr√©requis-valid√©s-><strong>Pr√©requis valid√©s :</strong></h3><ul><li>‚úÖ Gestion d&rsquo;√©tat moderne avec Signals</li><li>‚úÖ Composants personnalis√©s (pipes, directives)</li><li>‚úÖ Communication avanc√©e entre composants</li><li>‚úÖ Architecture DDD solide</li><li>‚úÖ Performance optimis√©e avec computed signals</li></ul><hr><p><em>üéØ <strong>Pr√™t pour la Partie 4 !</strong> Votre application a maintenant une gestion d&rsquo;√©tat moderne et des composants personnalis√©s robustes. Dans la Partie 4, nous nous concentrerons sur les tests, les optimisations de performance et le d√©ploiement.</em></p></article></main><footer class="bg-gray-800 text-white py-8 mt-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class=text-center><p>&copy; 2025 Cours Angular 5√®me ann√©e. Tous droits r√©serv√©s.</p><p class="text-gray-400 mt-2">Cours Angular 20+ pour les √©tudiants de 5√®me ann√©e</p></div></div></footer><script>document.addEventListener("DOMContentLoaded",function(){Prism.highlightAll()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})</script></body></html>