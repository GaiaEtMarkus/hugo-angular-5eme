<!doctype html><html lang=fr-fr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>- Cours Angular 5Ã¨me annÃ©e</title><meta name=description content="Cours complet Angular 20+ pour les Ã©tudiants de 5Ã¨me annÃ©e"><script src=https://cdn.tailwindcss.com></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><style>.prose{max-width:none;margin:0 auto;width:100%}body{background-color:#2c2c2c;color:#f0f0f0;overflow-x:auto}.prose *{box-sizing:border-box}.prose>*{display:block;width:fit-content}.prose h1,.prose h2,.prose h3,.prose h4{color:#f0f0f0;font-weight:700;display:block;width:100%}.prose h1{font-size:2.25rem;margin-top:2rem;margin-bottom:1rem}.prose h2{font-size:1.875rem;margin-top:1.5rem;margin-bottom:.75rem}.prose h3{font-size:1.5rem;margin-top:1.25rem;margin-bottom:.5rem}.prose code{background-color:transparent;padding:.25rem .5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;color:#000;border:none;display:inline}.prose pre{background-color:#fff;color:#000;padding:1.5rem;border-radius:.75rem;overflow-x:auto;margin:1.5rem 0;border:1px solid #e5e7eb;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);display:block;width:100%;box-sizing:border-box}.prose blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#d1d5db}.prose table{width:100%;border-collapse:collapse;margin:1rem 0}.prose th,.prose td{border:1px solid #4a5568;padding:.5rem;text-align:left;color:#f0f0f0}.prose th{background-color:#374151;font-weight:600;color:#f0f0f0}.prose ul,.prose ol{padding-left:1.5rem;margin:1rem 0;display:block}.prose li{margin:.25rem 0;display:list-item}.prose img{max-width:100%;height:auto;border-radius:.5rem;margin:1rem 0;display:block}.prose .highlight{background-color:#f59e0b;color:#1f2937;padding:.125rem .25rem;border-radius:.25rem}.prose .warning{background-color:#7f1d1d;border:1px solid #dc2626;color:#fecaca;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .info{background-color:#1e3a8a;border:1px solid #3b82f6;color:#bfdbfe;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .success{background-color:#14532d;border:1px solid #22c55e;color:#bbf7d0;padding:1rem;border-radius:.5rem;margin:1rem 0}</style></head><body class=min-h-screen><nav class="bg-blue-600 text-white shadow-lg"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href=https://gaiaetmarkus.github.io/ class="flex items-center space-x-2"><i class="fab fa-angular text-2xl"></i>
<span class="text-xl font-bold">Cours Angular 5Ã¨me annÃ©e</span></a></div><div class="flex items-center space-x-4"><a href=/introduction/ class="hover:text-blue-200 transition-colors">Introduction
</a><a href=/partie-1/ class="hover:text-blue-200 transition-colors">Partie 1
</a><a href=/partie-2/ class="hover:text-blue-200 transition-colors">Partie 2
</a><a href=/partie-3/ class="hover:text-blue-200 transition-colors">Partie 3
</a><a href=/partie-4/ class="hover:text-blue-200 transition-colors">Partie 4
</a><a href=/partie-5/ class="hover:text-blue-200 transition-colors">Projet</a></div></div></div></nav><main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><article class="prose prose-lg mx-auto text-gray-100"><h1></h1><time datetime=0001-01-01T00:00:00+00:00>January 1, 1</time><h1 id=partie-2--authentification-et-formulaires-rÃ©actifs>Partie 2 : Authentification et Formulaires RÃ©actifs</h1><h2 id=-objectifs-de-la-partie-2>ğŸ¯ Objectifs de la Partie 2</h2><p>Ã€ la fin de cette partie, vous serez capable de :</p><ul><li>âœ… CrÃ©er des formulaires rÃ©actifs avec validation</li><li>âœ… ImplÃ©menter l&rsquo;authentification complÃ¨te (login/register)</li><li>âœ… Utiliser les Guards pour protÃ©ger les routes</li><li>âœ… MaÃ®triser le lazy loading des modules</li><li>âœ… GÃ©rer les intercepteurs HTTP</li><li>âœ… CrÃ©er une interface admin fonctionnelle</li></ul><hr><h2 id=-Ã©tape-21--formulaires-rÃ©actifs>ğŸ” Ã‰tape 2.1 : Formulaires RÃ©actifs</h2><h3 id=-Ã©tape-21--formulaires-rÃ©actifs---terminÃ©e><strong>âœ… Ã‰tape 2.1 : Formulaires RÃ©actifs - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… Composant Login avec ReactiveFormsModule</li><li>âœ… Composant Register avec validation avancÃ©e</li><li>âœ… Validateur personnalisÃ© passwordMatchValidator</li><li>âœ… Gestion des erreurs en temps rÃ©el</li><li>âœ… Navigation entre Login et Register</li></ul><hr><h2 id=-Ã©tape-22--guards-de-protection>ğŸ›¡ï¸ Ã‰tape 2.2 : Guards de Protection</h2><h3 id=-Ã©tape-22--guards-de-protection---terminÃ©e><strong>âœ… Ã‰tape 2.2 : Guards de Protection - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… AuthGuard pour protÃ©ger les routes authentifiÃ©es</li><li>âœ… AdminGuard pour protÃ©ger les routes admin</li><li>âœ… Redirection automatique vers login si non authentifiÃ©</li><li>âœ… Gestion du returnUrl pour la redirection post-login</li></ul><hr><h2 id=-Ã©tape-23--lazy-loading-avancÃ©>ğŸ”„ Ã‰tape 2.3 : Lazy Loading AvancÃ©</h2><h3 id=-Ã©tape-23--lazy-loading-avancÃ©---terminÃ©e><strong>âœ… Ã‰tape 2.3 : Lazy Loading AvancÃ© - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… Lazy loading dÃ©jÃ  configurÃ© dans les routes</li><li>âœ… Composant Register avec validation avancÃ©e</li><li>âœ… Navigation croisÃ©e entre Login et Register</li><li>âœ… Chargement Ã  la demande des modules</li></ul><hr><h2 id=-Ã©tape-24--interface-admin>ğŸ‘‘ Ã‰tape 2.4 : Interface Admin</h2><h3 id=-Ã©tape-24--interface-admin---terminÃ©e><strong>âœ… Ã‰tape 2.4 : Interface Admin - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… Tableau de bord avec statistiques en temps rÃ©el</li><li>âœ… Gestion avancÃ©e des utilisateurs (changement de rÃ´le)</li><li>âœ… Gestion avancÃ©e des tickets (statut, prioritÃ©, attribution)</li><li>âœ… Interface avec onglets (utilisateurs/tickets)</li><li>âœ… Protection contre auto-suppression et auto-changement de rÃ´le</li></ul><hr><h2 id=-Ã©tape-25--intercepteurs-http>ğŸŒ Ã‰tape 2.5 : Intercepteurs HTTP</h2><h3 id=-Ã©tape-25--intercepteurs-http---terminÃ©e><strong>âœ… Ã‰tape 2.5 : Intercepteurs HTTP - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… Intercepteur d&rsquo;authentification (ajout automatique des tokens)</li><li>âœ… Intercepteur de loading (gestion des requÃªtes actives)</li><li>âœ… Service ErrorService pour la gestion centralisÃ©e des erreurs</li><li>âœ… Composant NotificationsComponent pour les toast notifications</li><li>âœ… Gestion automatique des erreurs 401/403/500</li><li>âœ… Notifications avec auto-suppression et design responsive</li></ul><p><strong>FonctionnalitÃ©s :</strong></p><ul><li>ğŸ” <strong>Authentification automatique</strong> : Ajout du token JWT aux headers</li><li>â±ï¸ <strong>Loading states</strong> : Compteur de requÃªtes actives</li><li>ğŸ”” <strong>Notifications toast</strong> : Error, warning, info avec design adaptatif</li><li>ğŸ›¡ï¸ <strong>Gestion d&rsquo;erreurs</strong> : CentralisÃ©e avec ErrorService</li><li>ğŸ“Š <strong>Logging</strong> : TraÃ§age des requÃªtes avec durÃ©e</li></ul><hr><h2 id=-Ã©tape-26--validation-avancÃ©e>ğŸ¯ Ã‰tape 2.6 : Validation AvancÃ©e</h2><h3 id=-Ã©tape-26--validation-avancÃ©e---terminÃ©e><strong>âœ… Ã‰tape 2.6 : Validation AvancÃ©e - TERMINÃ‰E</strong></h3><p><strong>ImplÃ©mentation :</strong></p><ul><li>âœ… Validateur personnalisÃ© passwordMatchValidator</li><li>âœ… Validation en temps rÃ©el avec messages d&rsquo;erreur</li><li>âœ… Gestion des erreurs de validation dans les formulaires</li><li>âœ… Validation croisÃ©e (mot de passe et confirmation)</li><li>âœ… Messages d&rsquo;erreur contextuels et informatifs</li></ul><hr><h3 id=pourquoi-les-formulaires-rÃ©actifs-><strong>Pourquoi les Formulaires RÃ©actifs ?</strong></h3><p>Les formulaires rÃ©actifs d&rsquo;Angular offrent plusieurs avantages par rapport aux formulaires template-driven :</p><h4 id=-rÃ©activitÃ©-et-performance><strong>ğŸ”„ RÃ©activitÃ© et Performance</strong></h4><ul><li><strong>Signals intÃ©grÃ©s</strong> : Les formulaires rÃ©actifs utilisent les Signals d&rsquo;Angular 20+ pour une rÃ©activitÃ© optimale</li><li><strong>DÃ©tection de changements efficace</strong> : Seuls les champs modifiÃ©s dÃ©clenchent des mises Ã  jour</li><li><strong>Moins de cycles de dÃ©tection</strong> : Performance amÃ©liorÃ©e pour les formulaires complexes</li></ul><h4 id=-testabilitÃ©><strong>ğŸ§ª TestabilitÃ©</strong></h4><ul><li><strong>Logique mÃ©tier sÃ©parÃ©e</strong> : La logique du formulaire est dans le composant, pas dans le template</li><li><strong>Tests unitaires facilitÃ©s</strong> : PossibilitÃ© de tester la logique sans DOM</li><li><strong>Validation centralisÃ©e</strong> : Plus facile Ã  tester et maintenir</li></ul><h4 id=-contrÃ´le-granulaire><strong>ğŸ›ï¸ ContrÃ´le granulaire</strong></h4><ul><li><strong>Validation en temps rÃ©el</strong> : Validation dynamique selon l&rsquo;Ã©tat des autres champs</li><li><strong>Transformations de donnÃ©es</strong> : PossibilitÃ© de transformer les valeurs avant affichage</li><li><strong>Gestion d&rsquo;Ã©tat avancÃ©e</strong> : ContrÃ´le prÃ©cis de l&rsquo;Ã©tat du formulaire</li></ul><h3 id=installation-des-modules-requis><strong>Installation des modules requis</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Les modules sont dÃ©jÃ  inclus dans Angular 20+ par dÃ©faut</span>
</span></span><span style=display:flex><span><span style=color:#57606a># ReactiveFormsModule est disponible dans @angular/forms</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=crÃ©ation-du-composant-de-login><strong>CrÃ©ation du composant de login</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># CrÃ©er le composant de login</span>
</span></span><span style=display:flex><span>ng generate component features/auth/components/login
</span></span></code></pre></td></tr></table></div></div><h3 id=crÃ©ation-du-service-authservice><strong>CrÃ©ation du service AuthService</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># CrÃ©er le service d&#39;authentification</span>
</span></span><span style=display:flex><span>ng generate service features/auth/services/auth
</span></span></code></pre></td></tr></table></div></div><h3 id=mise-Ã -jour-des-modÃ¨les-utilisateur><strong>Mise Ã  jour des modÃ¨les utilisateur</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/features/auth/models/user.model.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>export</span> <span style=color:#cf222e>interface</span> <span style=color:#1f2328>User</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>id</span>: <span style=color:#cf222e>number</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>name</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>email</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>role</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;user&#39;</span> <span style=color:#0550ae>|</span> <span style=color:#0a3069>&#39;admin&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>interface</span> <span style=color:#1f2328>LoginRequest</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>email</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>password</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>interface</span> <span style=color:#1f2328>RegisterRequest</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>name</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>email</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>password</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>confirmPassword</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=implÃ©mentation-du-service-authservice><strong>ImplÃ©mentation du service AuthService</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/features/auth/services/auth.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Injectable</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>signal</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Observable</span><span style=color:#1f2328>,</span> <span style=color:#cf222e>of</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>throwError</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>delay</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;rxjs&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>User</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>LoginRequest</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>RegisterRequest</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../models/user.model&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>@Injectable</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>providedIn</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;root&#39;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>class</span> <span style=color:#1f2328>AuthService</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>currentUser</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>User</span> <span style=color:#f6f8fa;background-color:#82071e>|</span> <span style=color:#1f2328>null</span><span style=color:#1f2328>&gt;(</span><span style=color:#cf222e>null</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>public</span> <span style=color:#1f2328>currentUser$</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>.</span><span style=color:#1f2328>asReadonly</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>// Mock data - utilisateurs de test
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>users</span>: <span style=color:#cf222e>User</span><span style=color:#1f2328>[]</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>[</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>id</span>: <span style=color:#cf222e>1</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>name</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;Admin User&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>email</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;admin@example.com&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>role</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;admin&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>id</span>: <span style=color:#cf222e>2</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>name</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;Normal User&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>email</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;user@example.com&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>role</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;user&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>// Mock data - mots de passe (en rÃ©alitÃ©, ils seraient hashÃ©s)
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>passwords</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>key</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>]</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>string</span> <span style=color:#1f2328>}</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#0a3069>&#39;admin@example.com&#39;</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;admin123&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#0a3069>&#39;user@example.com&#39;</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;user123&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>constructor</span><span style=color:#1f2328>()</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// VÃ©rifier s&#39;il y a un utilisateur en session
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>savedUser</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>localStorage</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getItem</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;currentUser&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>savedUser</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#1f2328>JSON</span><span style=color:#1f2328>.</span><span style=color:#1f2328>parse</span><span style=color:#1f2328>(</span><span style=color:#1f2328>savedUser</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>login</span><span style=color:#1f2328>(</span><span style=color:#1f2328>credentials</span>: <span style=color:#cf222e>LoginRequest</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>Observable</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>User</span><span style=color:#1f2328>&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>user</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#1f2328>find</span><span style=color:#1f2328>(</span><span style=color:#1f2328>u</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>u</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span> <span style=color:#0550ae>===</span> <span style=color:#1f2328>credentials</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>password</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>passwords</span><span style=color:#1f2328>[</span><span style=color:#1f2328>credentials</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>user</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>password</span> <span style=color:#0550ae>===</span> <span style=color:#1f2328>credentials</span><span style=color:#1f2328>.</span><span style=color:#1f2328>password</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#57606a>// Simuler un dÃ©lai rÃ©seau
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>      <span style=color:#cf222e>return</span> <span style=color:#cf222e>of</span><span style=color:#1f2328>(</span><span style=color:#1f2328>user</span><span style=color:#1f2328>).</span><span style=color:#1f2328>pipe</span><span style=color:#1f2328>(</span><span style=color:#1f2328>delay</span><span style=color:#1f2328>(</span><span style=color:#0550ae>500</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span> <span style=color:#cf222e>else</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>return</span> <span style=color:#1f2328>throwError</span><span style=color:#1f2328>(()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Email ou mot de passe incorrect&#39;</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>register</span><span style=color:#1f2328>(</span><span style=color:#1f2328>userData</span>: <span style=color:#cf222e>RegisterRequest</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>Observable</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>User</span><span style=color:#1f2328>&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// VÃ©rifier si l&#39;email existe dÃ©jÃ 
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>existingUser</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#1f2328>find</span><span style=color:#1f2328>(</span><span style=color:#1f2328>u</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>u</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span> <span style=color:#0550ae>===</span> <span style=color:#1f2328>userData</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>existingUser</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>return</span> <span style=color:#1f2328>throwError</span><span style=color:#1f2328>(()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Cet email est dÃ©jÃ  utilisÃ©&#39;</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// CrÃ©er un nouvel utilisateur
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>newUser</span>: <span style=color:#cf222e>User</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>id</span>: <span style=color:#cf222e>this.users.length</span> <span style=color:#0550ae>+</span> <span style=color:#0550ae>1</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>name</span>: <span style=color:#cf222e>userData.name</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>email</span>: <span style=color:#cf222e>userData.email</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>role</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;user&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// Ajouter aux mock data
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#1f2328>push</span><span style=color:#1f2328>(</span><span style=color:#1f2328>newUser</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>passwords</span><span style=color:#1f2328>[</span><span style=color:#1f2328>userData</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span><span style=color:#1f2328>]</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>userData</span><span style=color:#1f2328>.</span><span style=color:#1f2328>password</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// Simuler un dÃ©lai rÃ©seau
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>return</span> <span style=color:#cf222e>of</span><span style=color:#1f2328>(</span><span style=color:#1f2328>newUser</span><span style=color:#1f2328>).</span><span style=color:#1f2328>pipe</span><span style=color:#1f2328>(</span><span style=color:#1f2328>delay</span><span style=color:#1f2328>(</span><span style=color:#0550ae>500</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>logout</span><span style=color:#1f2328>()</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>void</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#cf222e>null</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>localStorage</span><span style=color:#1f2328>.</span><span style=color:#1f2328>removeItem</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;currentUser&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>getCurrentUser</span><span style=color:#1f2328>()</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>User</span> <span style=color:#0550ae>|</span> <span style=color:#cf222e>null</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>getAllUsers</span><span style=color:#1f2328>()</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>Observable</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>User</span><span style=color:#f6f8fa;background-color:#82071e>[]</span><span style=color:#1f2328>&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#cf222e>of</span><span style=color:#1f2328>(</span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>).</span><span style=color:#1f2328>pipe</span><span style=color:#1f2328>(</span><span style=color:#1f2328>delay</span><span style=color:#1f2328>(</span><span style=color:#0550ae>300</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>deleteUser</span><span style=color:#1f2328>(</span><span style=color:#1f2328>userId</span>: <span style=color:#cf222e>number</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>Observable</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>void</span><span style=color:#1f2328>&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>index</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#1f2328>findIndex</span><span style=color:#1f2328>(</span><span style=color:#1f2328>u</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>u</span><span style=color:#1f2328>.</span><span style=color:#1f2328>id</span> <span style=color:#0550ae>===</span> <span style=color:#1f2328>userId</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>index</span> <span style=color:#0550ae>!==</span> <span style=color:#0550ae>-</span><span style=color:#0550ae>1</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#1f2328>splice</span><span style=color:#1f2328>(</span><span style=color:#1f2328>index</span><span style=color:#1f2328>,</span> <span style=color:#0550ae>1</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>return</span> <span style=color:#cf222e>of</span><span style=color:#1f2328>(</span><span style=color:#cf222e>void</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>).</span><span style=color:#1f2328>pipe</span><span style=color:#1f2328>(</span><span style=color:#1f2328>delay</span><span style=color:#1f2328>(</span><span style=color:#0550ae>300</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#1f2328>throwError</span><span style=color:#1f2328>(()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>new</span> <span style=color:#6639ba>Error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Utilisateur non trouvÃ©&#39;</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>getToken</span><span style=color:#1f2328>()</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>string</span> <span style=color:#0550ae>|</span> <span style=color:#cf222e>null</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>user</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#1f2328>user</span> <span style=color:#0550ae>?</span> <span style=color:#0a3069>`mock-token-</span><span style=color:#0a3069>${</span><span style=color:#1f2328>user</span><span style=color:#1f2328>.</span><span style=color:#1f2328>id</span><span style=color:#0a3069>}</span><span style=color:#0a3069>`</span> <span style=color:#0550ae>:</span> <span style=color:#cf222e>null</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#57606a>// MÃ©thode pour dÃ©finir l&#39;utilisateur connectÃ© (utilisÃ©e aprÃ¨s login)
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>  <span style=color:#1f2328>setCurrentUser</span><span style=color:#1f2328>(</span><span style=color:#1f2328>user</span>: <span style=color:#cf222e>User</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>void</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#1f2328>user</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>localStorage</span><span style=color:#1f2328>.</span><span style=color:#1f2328>setItem</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;currentUser&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>JSON</span><span style=color:#1f2328>.</span><span style=color:#1f2328>stringify</span><span style=color:#1f2328>(</span><span style=color:#1f2328>user</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=implÃ©mentation-du-formulaire-de-login><strong>ImplÃ©mentation du formulaire de login</strong></h3><p>import { Component, inject } from &lsquo;@angular/core&rsquo;;
import { CommonModule } from &lsquo;@angular/common&rsquo;;
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from &lsquo;@angular/forms&rsquo;;
import { Router } from &lsquo;@angular/router&rsquo;;
import { AuthService } from &lsquo;../../services/auth.service&rsquo;;</p><p>@Component({
selector: &lsquo;app-login&rsquo;,
standalone: true,
imports: [CommonModule, ReactiveFormsModule],
template: `<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Connexion Ã  votre compte</h2></div></p><pre><code>    &lt;form [formGroup]=&quot;loginForm&quot; (ngSubmit)=&quot;onSubmit()&quot; class=&quot;mt-8 space-y-6&quot;&gt;
      &lt;!-- Email --&gt;
      &lt;div&gt;
        &lt;label for=&quot;email&quot; class=&quot;block text-sm font-medium text-gray-700&quot;&gt;
          Adresse email
        &lt;/label&gt;
        &lt;input
          id=&quot;email&quot;
          type=&quot;email&quot;
          formControlName=&quot;email&quot;
          class=&quot;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&quot;
          [class.border-red-500]=&quot;isFieldInvalid('email')&quot;
        /&gt;
        @if (isFieldInvalid('email')) {
          &lt;p class=&quot;mt-1 text-sm text-red-600&quot;&gt;
            {{ getFieldError('email') }}
          &lt;/p&gt;
        }
      &lt;/div&gt;

      &lt;!-- Password --&gt;
      &lt;div&gt;
        &lt;label for=&quot;password&quot; class=&quot;block text-sm font-medium text-gray-700&quot;&gt;
          Mot de passe
        &lt;/label&gt;
        &lt;input
          id=&quot;password&quot;
          type=&quot;password&quot;
          formControlName=&quot;password&quot;
          class=&quot;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&quot;
          [class.border-red-500]=&quot;isFieldInvalid('password')&quot;
        /&gt;
        @if (isFieldInvalid('password')) {
          &lt;p class=&quot;mt-1 text-sm text-red-600&quot;&gt;
            {{ getFieldError('password') }}
          &lt;/p&gt;
        }
      &lt;/div&gt;

      &lt;!-- Submit Button --&gt;
      &lt;div&gt;
        &lt;button
          type=&quot;submit&quot;
          [disabled]=&quot;loginForm.invalid || loading()&quot;
          class=&quot;group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50&quot;
        &gt;
          @if (loading()) {
            &lt;span class=&quot;inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2&quot;&gt;&lt;/span&gt;
            Connexion en cours...
          } @else {
            Se connecter
          }
        &lt;/button&gt;
      &lt;/div&gt;

      &lt;!-- Error Message --&gt;
      @if (error()) {
        &lt;div class=&quot;bg-red-50 border border-red-200 rounded-md p-4&quot;&gt;
          &lt;p class=&quot;text-sm text-red-600&quot;&gt;{{ error() }}&lt;/p&gt;
        &lt;/div&gt;
      }
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>`
})
export class LoginComponent {
private fb = inject(FormBuilder);
private authService = inject(AuthService);
private router = inject(Router);</p><p>loginForm: FormGroup;
loading = signal(false);
error = signal<string>(&rsquo;&rsquo;);</p><p>constructor() {
this.loginForm = this.fb.group({
email: [&rsquo;&rsquo;, [Validators.required, Validators.email]],
password: [&rsquo;&rsquo;, [Validators.required, Validators.minLength(6)]]
});
}</p><p>onSubmit() {
if (this.loginForm.valid) {
this.loading.set(true);
this.error.set(&rsquo;&rsquo;);</p><pre><code>  this.authService.login(this.loginForm.value).subscribe({
    next: (user) =&gt; {
      this.loading.set(false);
      this.router.navigate(['/todos']);
    },
    error: (err) =&gt; {
      this.loading.set(false);
      this.error.set(err.message || 'Erreur de connexion');
    }
  });
}
</code></pre><p>}</p><p>isFieldInvalid(fieldName: string): boolean {
const field = this.loginForm.get(fieldName);
return !!(field && field.invalid && (field.dirty || field.touched));
}</p><p>getFieldError(fieldName: string): string {
const field = this.loginForm.get(fieldName);
if (field?.errors) {
if (field.errors[&lsquo;required&rsquo;]) return &lsquo;Ce champ est requis&rsquo;;
if (field.errors[&rsquo;email&rsquo;]) return &lsquo;Format d'email invalide&rsquo;;
if (field.errors[&lsquo;minlength&rsquo;]) return <code>Minimum ${field.errors['minlength'].requiredLength} caractÃ¨res</code>;
}
return &lsquo;&rsquo;;
}
}</p><h3 id=mise-Ã -jour-du-header-avec-gestion-d><strong>Mise Ã  jour du header avec gestion d&rsquo;authentification</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/shared/components/header/header.component.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Component</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>signal</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>RouterLink</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Router</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>AuthService</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../../features/auth/services/auth&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>User</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../../features/auth/models/user.model&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>@Component</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>selector</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;app-header&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>standalone</span>: <span style=color:#cf222e>true</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>imports</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>RouterLink</span><span style=color:#1f2328>],</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>template</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>`
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;header class=&#34;bg-blue-600 text-white p-4&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;div class=&#34;container mx-auto flex justify-between items-center&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;h1 class=&#34;text-2xl font-bold&#34;&gt;TodoList App&lt;/h1&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;nav&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;ul class=&#34;flex space-x-4&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (currentUser()) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;li&gt;&lt;a routerLink=&#34;/todos&#34; class=&#34;hover:text-blue-200&#34;&gt;Todos&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              @if (currentUser()?.role === &#39;admin&#39;) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;li&gt;&lt;a routerLink=&#34;/admin&#34; class=&#34;hover:text-blue-200&#34;&gt;Admin&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;li&gt;&lt;button (click)=&#34;logout()&#34; class=&#34;hover:text-blue-200&#34;&gt;Logout&lt;/button&gt;&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            } @else {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;li&gt;&lt;a routerLink=&#34;/auth/login&#34; class=&#34;hover:text-blue-200&#34;&gt;Login&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;li&gt;&lt;a routerLink=&#34;/auth/register&#34; class=&#34;hover:text-blue-200&#34;&gt;Register&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/ul&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/nav&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;/header&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>  `</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>styles</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[],</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>class</span> <span style=color:#1f2328>HeaderComponent</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>authService</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>AuthService</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>router</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>Router</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#1f2328>currentUser</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser$</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>constructor</span><span style=color:#1f2328>()</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// Utiliser directement le signal du service
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser$</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>logout() {</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>logout</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>router</span><span style=color:#1f2328>.</span><span style=color:#1f2328>navigate</span><span style=color:#1f2328>([</span><span style=color:#0a3069>&#39;/auth/login&#39;</span><span style=color:#1f2328>]);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=mise-Ã -jour-des-routes-d><strong>Mise Ã  jour des routes d&rsquo;authentification</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/features/auth/auth.routes.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Routes</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>LoginComponent</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;./components/login/login&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>const</span> <span style=color:#1f2328>AUTH_ROUTES</span>: <span style=color:#cf222e>Routes</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>[</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;login&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>component</span>: <span style=color:#cf222e>LoginComponent</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;register&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// TODO: Ajouter RegisterComponent dans la Partie 2
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#1f2328>redirectTo</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;/todos&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>redirectTo</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;login&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>pathMatch</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;full&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>];</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-test-fonctionnel---Ã©tape-21--formulaires-rÃ©actifs>ğŸ§ª Test fonctionnel - Ã‰tape 2.1 : Formulaires RÃ©actifs</h2><h3 id=vÃ©rifications-Ã -effectuer-><strong>VÃ©rifications Ã  effectuer :</strong></h3><h4 id=1-test-du-formulaire-de-login><strong>1. Test du formulaire de login</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Lancer l&#39;application</span>
</span></span><span style=display:flex><span>ng serve
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># Aller sur http://localhost:4200/auth/login</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Le formulaire s&rsquo;affiche correctement</li><li><input disabled type=checkbox> Les champs email et password sont prÃ©sents</li><li><input disabled type=checkbox> Le bouton &ldquo;Se connecter&rdquo; est dÃ©sactivÃ© si le formulaire est invalide</li><li><input disabled type=checkbox> La validation email fonctionne (format invalide â†’ erreur)</li><li><input disabled type=checkbox> La validation password fonctionne (moins de 6 caractÃ¨res â†’ erreur)</li><li><input disabled type=checkbox> Le bouton se connecte avec les identifiants : <code>admin@example.com</code> / <code>admin123</code></li><li><input disabled type=checkbox> AprÃ¨s connexion, redirection vers <code>/todos</code></li></ul><h4 id=2-test-de-la-validation-en-temps-rÃ©el><strong>2. Test de la validation en temps rÃ©el</strong></h4><ul><li><input disabled type=checkbox> Taper un email invalide â†’ message d&rsquo;erreur apparaÃ®t</li><li><input disabled type=checkbox> Taper un mot de passe court â†’ message d&rsquo;erreur apparaÃ®t</li><li><input disabled type=checkbox> Corriger les erreurs â†’ messages disparaissent</li><li><input disabled type=checkbox> Le bouton s&rsquo;active quand le formulaire est valide</li></ul><h4 id=3-test-des-erreurs-de-connexion><strong>3. Test des erreurs de connexion</strong></h4><ul><li><input disabled type=checkbox> Essayer de se connecter avec des identifiants invalides</li><li><input disabled type=checkbox> VÃ©rifier que le message d&rsquo;erreur s&rsquo;affiche</li><li><input disabled type=checkbox> VÃ©rifier que le bouton de chargement fonctionne</li></ul><p><strong>ğŸ”§ Debug en cas de problÃ¨me :</strong></p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les erreurs dans la console</span>
</span></span><span style=display:flex><span>F12 â†’ Console
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier que le composant est bien crÃ©Ã©</span>
</span></span><span style=display:flex><span>ng generate component features/auth/components/login --dry-run
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>
### **ğŸ”§ Corrections importantes apportÃ©es**

#### **Types et interfaces**
- **User interface** : Ajout de la propriÃ©tÃ© `name` manquante
- **RegisterRequest** : Ajout de la propriÃ©tÃ© `name` pour l&#39;inscription
- **Passwords object** : Typage correct avec `{ [key: string]: string }`

#### **Signals vs Observables**
- **Header component** : Utilisation directe du signal `currentUser$` du service
- **Pas de subscribe** : Les signals n&#39;utilisent pas `.subscribe()` comme les Observables

#### **Gestion d&#39;Ã©tat**
- **localStorage** : Persistance de session avec sauvegarde/restauration automatique
- **Navigation dynamique** : Header adaptatif selon l&#39;Ã©tat de connexion

### **Explication technique : FormBuilder et FormGroup**
- **Pattern Builder** : Simplifie la crÃ©ation de formulaires complexes
- **Type Safety** : TypeScript peut infÃ©rer les types des contrÃ´les
- **RÃ©activitÃ©** : IntÃ©gration native avec les Signals d&#39;Angular 20+

#### **ğŸ“‹ FormGroup**
- **Conteneur de contrÃ´les** : GÃ¨re un ensemble de FormControl
- **Validation globale** : Peut valider l&#39;ensemble du formulaire
- **Ã‰tat rÃ©actif** : Ã‰met des Ã©vÃ©nements lors des changements

#### **ğŸ›ï¸ FormControl**
- **ContrÃ´le individuel** : GÃ¨re un champ de formulaire
- **Validation locale** : Validators appliquÃ©s au niveau du champ
- **Ã‰tat en temps rÃ©el** : dirty, touched, valid, etc.

---

## ğŸ›¡ï¸ Ã‰tape 2.2 : Guards de Protection

### **Pourquoi les Guards ?**

Les Guards permettent de contrÃ´ler l&#39;accÃ¨s aux routes selon des conditions mÃ©tier :

#### **ğŸ”’ SÃ©curitÃ©**
- **Protection des routes** : EmpÃªcher l&#39;accÃ¨s non autorisÃ©
- **Redirection automatique** : Rediriger vers login si non authentifiÃ©
- **Validation des permissions** : VÃ©rifier les rÃ´les utilisateur

#### **ğŸ¯ ExpÃ©rience utilisateur**
- **Navigation fluide** : Redirection automatique sans erreur 404
- **Feedback immÃ©diat** : L&#39;utilisateur sait pourquoi il ne peut pas accÃ©der
- **Ã‰tat cohÃ©rent** : L&#39;application reste dans un Ã©tat valide

### **CrÃ©ation du Guard d&#39;authentification**

```typescript
// src/app/core/guards/auth.guard.ts
import { inject } from &#39;@angular/core&#39;;
import { CanActivateFn, Router } from &#39;@angular/router&#39;;
import { AuthService } from &#39;../../features/auth/services/auth.service&#39;;
import { map, take } from &#39;rxjs/operators&#39;;

export const authGuard: CanActivateFn = (route, state) =&gt; {
  const authService = inject(AuthService);
  const router = inject(Router);

  return authService.currentUser$.pipe(
    take(1), // Prendre seulement la premiÃ¨re valeur
    map(user =&gt; {
      if (user) {
        return true; // AccÃ¨s autorisÃ©
      } else {
        // Rediriger vers login avec l&#39;URL de retour
        router.navigate([&#39;/auth/login&#39;], {
          queryParams: { returnUrl: state.url }
        });
        return false; // AccÃ¨s refusÃ©
      }
    })
  );
};
</code></pre><h3 id=crÃ©ation-du-guard-admin><strong>CrÃ©ation du Guard admin</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/core/guards/admin.guard.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>inject</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>CanActivateFn</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Router</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>AuthService</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../features/auth/services/auth.service&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>map</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>take</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;rxjs/operators&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>const</span> <span style=color:#1f2328>adminGuard</span>: <span style=color:#cf222e>CanActivateFn</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>route</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>state</span><span style=color:#1f2328>)</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>const</span> <span style=color:#1f2328>authService</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>AuthService</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>const</span> <span style=color:#1f2328>router</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>Router</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>return</span> <span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>currentUser$</span><span style=color:#1f2328>.</span><span style=color:#1f2328>pipe</span><span style=color:#1f2328>(</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>take</span><span style=color:#1f2328>(</span><span style=color:#0550ae>1</span><span style=color:#1f2328>),</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>map</span><span style=color:#1f2328>(</span><span style=color:#1f2328>user</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>user</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>user</span><span style=color:#1f2328>.</span><span style=color:#1f2328>role</span> <span style=color:#0550ae>===</span> <span style=color:#0a3069>&#39;admin&#39;</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>return</span> <span style=color:#cf222e>true</span><span style=color:#1f2328>;</span> <span style=color:#57606a>// AccÃ¨s admin autorisÃ©
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>      <span style=color:#1f2328>}</span> <span style=color:#cf222e>else</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#57606a>// Rediriger vers la page d&#39;accueil
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>        <span style=color:#1f2328>router</span><span style=color:#1f2328>.</span><span style=color:#1f2328>navigate</span><span style=color:#1f2328>([</span><span style=color:#0a3069>&#39;/todos&#39;</span><span style=color:#1f2328>]);</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>return</span> <span style=color:#cf222e>false</span><span style=color:#1f2328>;</span> <span style=color:#57606a>// AccÃ¨s refusÃ©
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=application-des-guards-aux-routes><strong>Application des Guards aux routes</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/app.routes.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Routes</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>authGuard</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;./core/guards/auth.guard&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>adminGuard</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;./core/guards/admin.guard&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>const</span> <span style=color:#1f2328>routes</span>: <span style=color:#cf222e>Routes</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>[</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>redirectTo</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;/todos&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>pathMatch</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;full&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;todos&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>canActivate</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>authGuard</span><span style=color:#1f2328>],</span> <span style=color:#57606a>// Protection par authentification
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#1f2328>loadChildren</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>import</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;./features/todos/todos.routes&#39;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>m</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>m</span><span style=color:#1f2328>.</span><span style=color:#1f2328>TODOS_ROUTES</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;auth&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>loadChildren</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>import</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;./features/auth/auth.routes&#39;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>m</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>m</span><span style=color:#1f2328>.</span><span style=color:#1f2328>AUTH_ROUTES</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>path</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;admin&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>canActivate</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>authGuard</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>adminGuard</span><span style=color:#1f2328>],</span> <span style=color:#57606a>// Protection admin
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#1f2328>loadChildren</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>()</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#cf222e>import</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;./features/admin/admin.routes&#39;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>then</span><span style=color:#1f2328>(</span><span style=color:#1f2328>m</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>m</span><span style=color:#1f2328>.</span><span style=color:#1f2328>ADMIN_ROUTES</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0550ae>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>##</span> <span style=color:#f6f8fa;background-color:#82071e>ğŸ§ª</span> <span style=color:#1f2328>Test</span> <span style=color:#1f2328>fonctionnel</span> <span style=color:#0550ae>-</span> <span style=color:#f6f8fa;background-color:#82071e>Ã‰</span><span style=color:#1f2328>tape</span> <span style=color:#1f2328>2.2</span> : <span style=color:#cf222e>Guards</span> <span style=color:#1f2328>de</span> <span style=color:#1f2328>Protection</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>###</span> <span style=color:#0550ae>**</span><span style=color:#1f2328>VÃ©rifications</span> <span style=color:#f6f8fa;background-color:#82071e>Ã </span> <span style=color:#1f2328>effectuer</span> <span style=color:#0550ae>:**</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>####</span> <span style=color:#0550ae>**</span><span style=color:#0550ae>1</span><span style=color:#1f2328>.</span> <span style=color:#1f2328>Test</span> <span style=color:#1f2328>du</span> <span style=color:#1f2328>AuthGuard</span><span style=color:#0550ae>**</span>
</span></span><span style=display:flex><span><span style=color:#0a3069>```bash
</span></span></span><span style=display:flex><span><span style=color:#0a3069># Aller sur http://localhost:4200/todos (sans Ãªtre connectÃ©)
</span></span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Redirection automatique vers <code>/auth/login</code></li><li><input disabled type=checkbox> L&rsquo;URL de retour est sauvegardÃ©e dans les query params</li><li><input disabled type=checkbox> AprÃ¨s connexion, retour automatique vers <code>/todos</code></li></ul><h4 id=2-test-du-adminguard><strong>2. Test du AdminGuard</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Se connecter avec un compte utilisateur normal</span>
</span></span><span style=display:flex><span><span style=color:#57606a># user@example.com / user123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># Essayer d&#39;accÃ©der Ã  http://localhost:4200/admin</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Redirection vers <code>/todos</code> (accÃ¨s refusÃ©)</li><li><input disabled type=checkbox> Se connecter avec <code>admin@example.com</code> / <code>admin123</code></li><li><input disabled type=checkbox> AccÃ¨s Ã  <code>/admin</code> autorisÃ©</li></ul><h4 id=3-test-de-la-navigation><strong>3. Test de la navigation</strong></h4><ul><li><input disabled type=checkbox> Cliquer sur &ldquo;Admin&rdquo; dans le header (si connectÃ© en tant qu&rsquo;admin)</li><li><input disabled type=checkbox> VÃ©rifier que la navigation fonctionne correctement</li><li><input disabled type=checkbox> Tester la dÃ©connexion et vÃ©rifier les redirections</li></ul><p><strong>ğŸ”§ Debug en cas de problÃ¨me :</strong></p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les routes dans la console</span>
</span></span><span style=display:flex><span>F12 â†’ Console â†’ VÃ©rifier les logs de navigation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier que les guards sont bien appliquÃ©s</span>
</span></span><span style=display:flex><span>ng build --configuration development
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>
### **Explication technique : CanActivateFn vs CanActivate**

#### **ğŸ†• CanActivateFn (Angular 14+)**
- **Functional Guards** : Plus moderne et flexible
- **Injection simplifiÃ©e** : Utilise `inject()` au lieu du constructeur
- **Tree-shaking** : Meilleure optimisation du bundle
- **Composition** : Plus facile de combiner plusieurs guards

#### **ğŸ”„ Observable vs Promise**
- **Observable** : Permet l&#39;annulation et la rÃ©activitÃ©
- **take(1)** : Ã‰vite les fuites mÃ©moire en se dÃ©sabonnant automatiquement
- **map()** : Transforme la valeur sans crÃ©er de nouvel Observable

---

## ğŸ”„ Ã‰tape 2.3 : Lazy Loading AvancÃ©

### **Pourquoi le Lazy Loading ?**

Le lazy loading amÃ©liore significativement les performances :

#### **âš¡ Performance**
- **Bundle initial rÃ©duit** : Seuls les modules nÃ©cessaires sont chargÃ©s
- **Chargement Ã  la demande** : Les modules se chargent quand on en a besoin
- **Cache intelligent** : Les modules restent en cache aprÃ¨s premier chargement

#### **ğŸ“± ExpÃ©rience mobile**
- **Temps de chargement rÃ©duit** : ParticuliÃ¨rement important sur mobile
- **Bande passante Ã©conomisÃ©e** : Seulement ce qui est nÃ©cessaire
- **Batterie prÃ©servÃ©e** : Moins de traitement initial

### **Configuration du lazy loading**

```typescript
// src/app/features/auth/auth.routes.ts
import { Routes } from &#39;@angular/router&#39;;
import { LoginComponent } from &#39;./components/login.component&#39;;
import { RegisterComponent } from &#39;./components/register.component&#39;;

export const AUTH_ROUTES: Routes = [
  {
    path: &#39;login&#39;,
    component: LoginComponent
  },
  {
    path: &#39;register&#39;,
    component: RegisterComponent
  },
  {
    path: &#39;&#39;,
    redirectTo: &#39;login&#39;,
    pathMatch: &#39;full&#39;
  }
];
</code></pre><h3 id=composant-register-avec-validation-avancÃ©e><strong>Composant Register avec validation avancÃ©e</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">189
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/features/auth/components/register.component.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Component</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>inject</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>CommonModule</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/common&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>FormBuilder</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>FormGroup</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Validators</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>ReactiveFormsModule</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>AbstractControl</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>ValidationErrors</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/forms&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Router</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>AuthService</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../services/auth.service&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>// Validateur personnalisÃ© pour la confirmation de mot de passe
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>function</span> <span style=color:#1f2328>passwordMatchValidator</span><span style=color:#1f2328>(</span><span style=color:#1f2328>control</span>: <span style=color:#cf222e>AbstractControl</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>ValidationErrors</span> <span style=color:#0550ae>|</span> <span style=color:#cf222e>null</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>const</span> <span style=color:#1f2328>password</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>control</span><span style=color:#1f2328>.</span><span style=color:#cf222e>get</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;password&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>const</span> <span style=color:#1f2328>confirmPassword</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>control</span><span style=color:#1f2328>.</span><span style=color:#cf222e>get</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;confirmPassword&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>password</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>confirmPassword</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>password</span><span style=color:#1f2328>.</span><span style=color:#1f2328>value</span> <span style=color:#0550ae>!==</span> <span style=color:#1f2328>confirmPassword</span><span style=color:#1f2328>.</span><span style=color:#1f2328>value</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>passwordMismatch</span>: <span style=color:#cf222e>true</span> <span style=color:#1f2328>};</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>return</span> <span style=color:#cf222e>null</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>@Component</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>selector</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;app-register&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>standalone</span>: <span style=color:#cf222e>true</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>imports</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>CommonModule</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>ReactiveFormsModule</span><span style=color:#1f2328>],</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>template</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>`
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;div class=&#34;min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;div class=&#34;max-w-md w-full space-y-8&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;h2 class=&#34;mt-6 text-center text-3xl font-extrabold text-gray-900&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            CrÃ©er un compte
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/h2&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;form [formGroup]=&#34;registerForm&#34; (ngSubmit)=&#34;onSubmit()&#34; class=&#34;mt-8 space-y-6&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Nom --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;label for=&#34;name&#34; class=&#34;block text-sm font-medium text-gray-700&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              Nom complet
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;input
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              id=&#34;name&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              type=&#34;text&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              formControlName=&#34;name&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              class=&#34;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              [class.border-red-500]=&#34;isFieldInvalid(&#39;name&#39;)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            /&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (isFieldInvalid(&#39;name&#39;)) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;mt-1 text-sm text-red-600&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                {{ getFieldError(&#39;name&#39;) }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Email --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;label for=&#34;email&#34; class=&#34;block text-sm font-medium text-gray-700&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              Adresse email
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;input
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              id=&#34;email&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              type=&#34;email&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              formControlName=&#34;email&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              class=&#34;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              [class.border-red-500]=&#34;isFieldInvalid(&#39;email&#39;)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            /&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (isFieldInvalid(&#39;email&#39;)) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;mt-1 text-sm text-red-600&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                {{ getFieldError(&#39;email&#39;) }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Password --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;label for=&#34;password&#34; class=&#34;block text-sm font-medium text-gray-700&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              Mot de passe
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;input
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              id=&#34;password&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              type=&#34;password&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              formControlName=&#34;password&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              class=&#34;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              [class.border-red-500]=&#34;isFieldInvalid(&#39;password&#39;)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            /&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (isFieldInvalid(&#39;password&#39;)) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;mt-1 text-sm text-red-600&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                {{ getFieldError(&#39;password&#39;) }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Confirm Password --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;label for=&#34;confirmPassword&#34; class=&#34;block text-sm font-medium text-gray-700&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              Confirmer le mot de passe
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;input
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              id=&#34;confirmPassword&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              type=&#34;password&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              formControlName=&#34;confirmPassword&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              class=&#34;mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              [class.border-red-500]=&#34;isFieldInvalid(&#39;confirmPassword&#39;)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            /&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (isFieldInvalid(&#39;confirmPassword&#39;)) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;mt-1 text-sm text-red-600&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                {{ getFieldError(&#39;confirmPassword&#39;) }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Submit Button --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              type=&#34;submit&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              [disabled]=&#34;registerForm.invalid || loading()&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              class=&#34;group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              @if (loading()) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;span class=&#34;inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2&#34;&gt;&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                CrÃ©ation en cours...
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              } @else {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                CrÃ©er le compte
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;!-- Error Message --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          @if (error()) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;div class=&#34;bg-red-50 border border-red-200 rounded-md p-4&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;text-sm text-red-600&#34;&gt;{{ error() }}&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/form&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>  `</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>class</span> <span style=color:#1f2328>RegisterComponent</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>fb</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>FormBuilder</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>authService</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>AuthService</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>router</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>Router</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>registerForm</span>: <span style=color:#cf222e>FormGroup</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>loading</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#1f2328>(</span><span style=color:#cf222e>false</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>error</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>string</span><span style=color:#1f2328>&gt;(</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>constructor</span><span style=color:#1f2328>()</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>registerForm</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>fb</span><span style=color:#1f2328>.</span><span style=color:#1f2328>group</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>name</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>required</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>minLength</span><span style=color:#1f2328>(</span><span style=color:#0550ae>2</span><span style=color:#1f2328>)]],</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>email</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>required</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>email</span><span style=color:#1f2328>]],</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>password</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>required</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>minLength</span><span style=color:#1f2328>(</span><span style=color:#0550ae>6</span><span style=color:#1f2328>)]],</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>confirmPassword</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>Validators</span><span style=color:#1f2328>.</span><span style=color:#1f2328>required</span><span style=color:#1f2328>]]</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>},</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>validators</span>: <span style=color:#cf222e>passwordMatchValidator</span> <span style=color:#1f2328>});</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>onSubmit() {</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>registerForm</span><span style=color:#1f2328>.</span><span style=color:#1f2328>valid</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loading</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#cf222e>true</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>const</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>confirmPassword</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>...</span><span style=color:#1f2328>userData</span> <span style=color:#1f2328>}</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>registerForm</span><span style=color:#1f2328>.</span><span style=color:#1f2328>value</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>register</span><span style=color:#1f2328>(</span><span style=color:#1f2328>userData</span><span style=color:#1f2328>).</span><span style=color:#1f2328>subscribe</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>next</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>user</span><span style=color:#1f2328>)</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loading</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#cf222e>false</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>router</span><span style=color:#1f2328>.</span><span style=color:#1f2328>navigate</span><span style=color:#1f2328>([</span><span style=color:#0a3069>&#39;/todos&#39;</span><span style=color:#1f2328>]);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>},</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>error</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>err</span><span style=color:#1f2328>)</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loading</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#cf222e>false</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>          <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>message</span> <span style=color:#0550ae>||</span> <span style=color:#0a3069>&#39;Erreur lors de la crÃ©ation du compte&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>});</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>isFieldInvalid</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fieldName</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>boolean</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>field</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>registerForm</span><span style=color:#1f2328>.</span><span style=color:#cf222e>get</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fieldName</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#0550ae>!!</span><span style=color:#1f2328>(</span><span style=color:#1f2328>field</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>invalid</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>dirty</span> <span style=color:#0550ae>||</span> <span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>touched</span><span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>getFieldError</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fieldName</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#cf222e>string</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>field</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>registerForm</span><span style=color:#1f2328>.</span><span style=color:#cf222e>get</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fieldName</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#0550ae>?</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;required&#39;</span><span style=color:#1f2328>])</span> <span style=color:#cf222e>return</span> <span style=color:#0a3069>&#39;Ce champ est requis&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;email&#39;</span><span style=color:#1f2328>])</span> <span style=color:#cf222e>return</span> <span style=color:#0a3069>&#39;Format d\&#39;email invalide&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;minlength&#39;</span><span style=color:#1f2328>])</span> <span style=color:#cf222e>return</span> <span style=color:#0a3069>`Minimum </span><span style=color:#0a3069>${</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;minlength&#39;</span><span style=color:#1f2328>].</span><span style=color:#1f2328>requiredLength</span><span style=color:#0a3069>}</span><span style=color:#0a3069> caractÃ¨res`</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>field</span><span style=color:#1f2328>.</span><span style=color:#1f2328>errors</span><span style=color:#1f2328>[</span><span style=color:#0a3069>&#39;passwordMismatch&#39;</span><span style=color:#1f2328>])</span> <span style=color:#cf222e>return</span> <span style=color:#0a3069>&#39;Les mots de passe ne correspondent pas&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>return</span> <span style=color:#0a3069>&#39;&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=explication-technique--validateurs-personnalisÃ©s><strong>Explication technique : Validateurs personnalisÃ©s</strong></h3><h4 id=-validateur-personnalisÃ©><strong>ğŸ”§ Validateur personnalisÃ©</strong></h4><ul><li><strong>Fonction pure</strong> : Pas d&rsquo;effets de bord, facilement testable</li><li><strong>Validation croisÃ©e</strong> : Peut accÃ©der Ã  plusieurs contrÃ´les</li><li><strong>RÃ©utilisabilitÃ©</strong> : Peut Ãªtre utilisÃ© dans d&rsquo;autres formulaires</li></ul><h4 id=-validators-angular><strong>ğŸ“Š Validators Angular</strong></h4><ul><li><strong>Validators.required</strong> : Champ obligatoire</li><li><strong>Validators.email</strong> : Format email valide</li><li><strong>Validators.minLength(n)</strong> : Longueur minimale</li><li><strong>Validators.pattern(regex)</strong> : Expression rÃ©guliÃ¨re</li></ul><hr><h2 id=-test-fonctionnel---Ã©tape-23--lazy-loading-et-register>ğŸ§ª Test fonctionnel - Ã‰tape 2.3 : Lazy Loading et Register</h2><h3 id=vÃ©rifications-Ã -effectuer--1><strong>VÃ©rifications Ã  effectuer :</strong></h3><h4 id=1-test-du-formulaire-de-register><strong>1. Test du formulaire de register</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Aller sur http://localhost:4200/auth/register</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Le formulaire s&rsquo;affiche correctement avec tous les champs</li><li><input disabled type=checkbox> Validation du nom (minimum 2 caractÃ¨res)</li><li><input disabled type=checkbox> Validation de l&rsquo;email (format valide)</li><li><input disabled type=checkbox> Validation du mot de passe (minimum 6 caractÃ¨res)</li><li><input disabled type=checkbox> Validation de la confirmation de mot de passe</li><li><input disabled type=checkbox> Les mots de passe doivent correspondre</li><li><input disabled type=checkbox> CrÃ©ation d&rsquo;un nouveau compte fonctionne</li></ul><h4 id=2-test-du-lazy-loading><strong>2. Test du lazy loading</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Ouvrir les DevTools (F12)</span>
</span></span><span style=display:flex><span><span style=color:#57606a># Aller dans l&#39;onglet Network</span>
</span></span><span style=display:flex><span><span style=color:#57606a># Naviguer entre les pages</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Chargement initial rapide (pas de gros bundle)</li><li><input disabled type=checkbox> Nouveaux chunks chargÃ©s lors de la navigation</li><li><input disabled type=checkbox> Les modules se chargent Ã  la demande</li><li><input disabled type=checkbox> Pas d&rsquo;erreurs de chargement dans la console</li></ul><h4 id=3-test-de-la-validation-croisÃ©e><strong>3. Test de la validation croisÃ©e</strong></h4><ul><li><input disabled type=checkbox> Taper des mots de passe diffÃ©rents â†’ erreur</li><li><input disabled type=checkbox> Corriger pour qu&rsquo;ils correspondent â†’ erreur disparaÃ®t</li><li><input disabled type=checkbox> Le bouton s&rsquo;active seulement si tout est valide</li></ul><p><strong>ğŸ”§ Debug en cas de problÃ¨me :</strong></p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les erreurs de compilation</span>
</span></span><span style=display:flex><span>ng build --configuration development
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les chunks gÃ©nÃ©rÃ©s</span>
</span></span><span style=display:flex><span>ng build --stats-json
</span></span></code></pre></td></tr></table></div></div><h2 id=-Ã©tape-24--interface-admin-1>ğŸ¨ Ã‰tape 2.4 : Interface Admin</h2><h3 id=pourquoi-une-interface-admin-><strong>Pourquoi une interface admin ?</strong></h3><p>L&rsquo;interface admin permet de gÃ©rer l&rsquo;application de maniÃ¨re centralisÃ©e :</p><h4 id=-gestion-des-utilisateurs><strong>ğŸ‘¥ Gestion des utilisateurs</strong></h4><ul><li><strong>CrÃ©ation/suppression</strong> : GÃ©rer les comptes utilisateurs</li><li><strong>Attribution de rÃ´les</strong> : Donner des permissions spÃ©cifiques</li><li><strong>Surveillance</strong> : Voir qui utilise l&rsquo;application</li></ul><h4 id=-gestion-des-tickets><strong>ğŸ“‹ Gestion des tickets</strong></h4><ul><li><strong>RÃ©partition</strong> : Assigner des tickets aux utilisateurs</li><li><strong>Suivi</strong> : Voir l&rsquo;Ã©tat de tous les tickets</li><li><strong>ModÃ©ration</strong> : Supprimer ou modifier des tickets</li></ul><h3 id=composant-admin-principal><strong>Composant Admin principal</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">257
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">258
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">259
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">260
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">261
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">262
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">263
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">264
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">265
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">266
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">267
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">268
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">269
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">270
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">271
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">272
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">273
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">274
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">275
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">276
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">277
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">278
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">279
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">280
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">281
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">282
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">283
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">284
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">285
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">286
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">287
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">288
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">289
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">290
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">291
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">292
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">293
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/features/admin/components/admin.component.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Component</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>OnInit</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>CommonModule</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/common&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>Router</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>AuthService</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../auth/services/auth.service&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>TodoService</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../todos/services/todo.service&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>User</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>Todo</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;../../auth/models/user.model&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>@Component</span><span style=color:#1f2328>({</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>selector</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;app-admin&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>standalone</span>: <span style=color:#cf222e>true</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>imports</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span><span style=color:#1f2328>CommonModule</span><span style=color:#1f2328>],</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>template</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>`
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;div class=&#34;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;div class=&#34;mb-8&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;h1 class=&#34;text-3xl font-bold text-gray-900&#34;&gt;Interface d&#39;Administration&lt;/h1&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;p class=&#34;text-gray-600 mt-2&#34;&gt;GÃ©rez les utilisateurs et les tickets&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;!-- Navigation Admin --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;div class=&#34;mb-8&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;nav class=&#34;flex space-x-4&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            (click)=&#34;activeTab = &#39;users&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.bg-blue-600]=&#34;activeTab === &#39;users&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.text-white]=&#34;activeTab === &#39;users&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.text-gray-700]=&#34;activeTab !== &#39;users&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            class=&#34;px-4 py-2 rounded-md font-medium hover:bg-blue-700 hover:text-white transition-colors&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            Utilisateurs
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            (click)=&#34;activeTab = &#39;tickets&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.bg-blue-600]=&#34;activeTab === &#39;tickets&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.text-white]=&#34;activeTab === &#39;tickets&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            [class.text-gray-700]=&#34;activeTab !== &#39;tickets&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            class=&#34;px-4 py-2 rounded-md font-medium hover:bg-blue-700 hover:text-white transition-colors&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            Tickets
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/nav&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      &lt;!-- Contenu des onglets --&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      @if (activeTab === &#39;users&#39;) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;div class=&#34;bg-white shadow rounded-lg&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div class=&#34;px-6 py-4 border-b border-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;h2 class=&#34;text-xl font-semibold text-gray-900&#34;&gt;Gestion des Utilisateurs&lt;/h2&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div class=&#34;p-6&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (users().length &gt; 0) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;div class=&#34;overflow-x-auto&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;table class=&#34;min-w-full divide-y divide-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;thead class=&#34;bg-gray-50&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    &lt;tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        Utilisateur
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        RÃ´le
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        Actions
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    &lt;/tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;/thead&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;tbody class=&#34;bg-white divide-y divide-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    @for (user of users(); track user.id) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;div class=&#34;flex items-center&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;div class=&#34;flex-shrink-0 h-10 w-10&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              &lt;div class=&#34;h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                                &lt;span class=&#34;text-sm font-medium text-gray-700&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                                  {{ user.name.charAt(0).toUpperCase() }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                                &lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;div class=&#34;ml-4&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              &lt;div class=&#34;text-sm font-medium text-gray-900&#34;&gt;{{ user.name }}&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              &lt;div class=&#34;text-sm text-gray-500&#34;&gt;{{ user.email }}&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;span
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-red-100]=&#34;user.role === &#39;admin&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-red-800]=&#34;user.role === &#39;admin&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-green-100]=&#34;user.role === &#39;user&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-green-800]=&#34;user.role === &#39;user&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            class=&#34;px-2 inline-flex text-xs leading-5 font-semibold rounded-full&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            {{ user.role | titlecase }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap text-sm font-medium&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          @if (user.role !== &#39;admin&#39;) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              (click)=&#34;deleteUser(user.id)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              class=&#34;text-red-600 hover:text-red-900&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                              Supprimer
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          } @else {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;span class=&#34;text-gray-400&#34;&gt;Admin protÃ©gÃ©&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;/tbody&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;/table&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            } @else {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;text-gray-500 text-center py-8&#34;&gt;Aucun utilisateur trouvÃ©&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      @if (activeTab === &#39;tickets&#39;) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;div class=&#34;bg-white shadow rounded-lg&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div class=&#34;px-6 py-4 border-b border-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            &lt;h2 class=&#34;text-xl font-semibold text-gray-900&#34;&gt;Gestion des Tickets&lt;/h2&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;div class=&#34;p-6&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            @if (todos().length &gt; 0) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;div class=&#34;overflow-x-auto&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;table class=&#34;min-w-full divide-y divide-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;thead class=&#34;bg-gray-50&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    &lt;tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        Ticket
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        Statut
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        PrioritÃ©
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        AssignÃ© Ã 
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;th class=&#34;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        Actions
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/th&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    &lt;/tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;/thead&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;tbody class=&#34;bg-white divide-y divide-gray-200&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    @for (todo of todos(); track todo.id) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;div class=&#34;text-sm font-medium text-gray-900&#34;&gt;{{ todo.title }}&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          @if (todo.description) {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            &lt;div class=&#34;text-sm text-gray-500&#34;&gt;{{ todo.description }}&lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;span
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-yellow-100]=&#34;todo.status === &#39;todo&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-yellow-800]=&#34;todo.status === &#39;todo&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-blue-100]=&#34;todo.status === &#39;in-progress&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-blue-800]=&#34;todo.status === &#39;in-progress&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-green-100]=&#34;todo.status === &#39;done&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-green-800]=&#34;todo.status === &#39;done&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            class=&#34;px-2 inline-flex text-xs leading-5 font-semibold rounded-full&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            {{ todo.status | titlecase }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;span
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-red-100]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-red-800]=&#34;todo.priority === &#39;high&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-yellow-100]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-yellow-800]=&#34;todo.priority === &#39;medium&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.bg-green-100]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            [class.text-green-800]=&#34;todo.priority === &#39;low&#39;&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            class=&#34;px-2 inline-flex text-xs leading-5 font-semibold rounded-full&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            {{ todo.priority | titlecase }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap text-sm text-gray-900&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          {{ todo.assignedTo || &#39;Non assignÃ©&#39; }}
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;td class=&#34;px-6 py-4 whitespace-nowrap text-sm font-medium&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            (click)=&#34;deleteTodo(todo.id)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            class=&#34;text-red-600 hover:text-red-900 mr-3&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            Supprimer
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;button
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            (click)=&#34;assignTodo(todo)&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            class=&#34;text-blue-600 hover:text-blue-900&#34;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                            Assigner
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                          &lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                        &lt;/td&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                      &lt;/tr&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                    }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                  &lt;/tbody&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>                &lt;/table&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            } @else {
</span></span></span><span style=display:flex><span><span style=color:#0a3069>              &lt;p class=&#34;text-gray-500 text-center py-8&#34;&gt;Aucun ticket trouvÃ©&lt;/p&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>            }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>          &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>        &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>      }
</span></span></span><span style=display:flex><span><span style=color:#0a3069>    &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#0a3069>  </span><span style=color:#0a3069>`</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>})</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>class</span> <span style=color:#1f2328>AdminComponent</span> <span style=color:#cf222e>implements</span> <span style=color:#1f2328>OnInit</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>authService</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>AuthService</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>todoService</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>TodoService</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>private</span> <span style=color:#1f2328>router</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>inject</span><span style=color:#1f2328>(</span><span style=color:#1f2328>Router</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>activeTab</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#0550ae>&lt;</span><span style=color:#0a3069>&#39;users&#39;</span> <span style=color:#0550ae>|</span> <span style=color:#0a3069>&#39;tickets&#39;</span><span style=color:#0550ae>&gt;</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;users&#39;</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>users</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>User</span><span style=color:#f6f8fa;background-color:#82071e>[]</span><span style=color:#1f2328>&gt;([]);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>todos</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>signal</span><span style=color:#1f2328>&lt;</span><span style=color:#0550ae>Todo</span><span style=color:#f6f8fa;background-color:#82071e>[]</span><span style=color:#1f2328>&gt;([]);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>async</span> <span style=color:#1f2328>ngOnInit() {</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// VÃ©rifier que l&#39;utilisateur est admin
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>const</span> <span style=color:#1f2328>currentUser</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getCurrentUser</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#0550ae>!</span><span style=color:#1f2328>currentUser</span> <span style=color:#0550ae>||</span> <span style=color:#1f2328>currentUser</span><span style=color:#1f2328>.</span><span style=color:#1f2328>role</span> <span style=color:#0550ae>!==</span> <span style=color:#0a3069>&#39;admin&#39;</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>router</span><span style=color:#1f2328>.</span><span style=color:#1f2328>navigate</span><span style=color:#1f2328>([</span><span style=color:#0a3069>&#39;/todos&#39;</span><span style=color:#1f2328>]);</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>return</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// Charger les donnÃ©es
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loadUsers</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loadTodos</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>async</span> <span style=color:#1f2328>loadUsers() {</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>const</span> <span style=color:#1f2328>users</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getAllUsers</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>users</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#1f2328>users</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors du chargement des utilisateurs:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>async</span> <span style=color:#1f2328>loadTodos() {</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>const</span> <span style=color:#1f2328>todos</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>todoService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>getAllTodos</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>todos</span><span style=color:#1f2328>.</span><span style=color:#cf222e>set</span><span style=color:#1f2328>(</span><span style=color:#1f2328>todos</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors du chargement des todos:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>async</span> <span style=color:#1f2328>deleteUser</span><span style=color:#1f2328>(</span><span style=color:#1f2328>userId</span>: <span style=color:#cf222e>number</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>confirm</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;ÃŠtes-vous sÃ»r de vouloir supprimer cet utilisateur ?&#39;</span><span style=color:#1f2328>))</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>authService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>deleteUser</span><span style=color:#1f2328>(</span><span style=color:#1f2328>userId</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loadUsers</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors de la suppression:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#cf222e>async</span> <span style=color:#1f2328>deleteTodo</span><span style=color:#1f2328>(</span><span style=color:#1f2328>todoId</span>: <span style=color:#cf222e>number</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>confirm</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;ÃŠtes-vous sÃ»r de vouloir supprimer ce ticket ?&#39;</span><span style=color:#1f2328>))</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>      <span style=color:#cf222e>try</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>todoService</span><span style=color:#1f2328>.</span><span style=color:#1f2328>deleteTodo</span><span style=color:#1f2328>(</span><span style=color:#1f2328>todoId</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>        <span style=color:#cf222e>await</span> <span style=color:#cf222e>this</span><span style=color:#1f2328>.</span><span style=color:#1f2328>loadTodos</span><span style=color:#1f2328>();</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span> <span style=color:#cf222e>catch</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>error</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>error</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Erreur lors de la suppression:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>error</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>assignTodo</span><span style=color:#1f2328>(</span><span style=color:#1f2328>todo</span>: <span style=color:#cf222e>Todo</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#57606a>// TODO: ImplÃ©menter la logique d&#39;assignation
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>    <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>log</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;Assigner le ticket:&#39;</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>todo</span><span style=color:#1f2328>);</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0550ae>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>##</span> <span style=color:#f6f8fa;background-color:#82071e>ğŸ§ª</span> <span style=color:#1f2328>Test</span> <span style=color:#1f2328>fonctionnel</span> <span style=color:#0550ae>-</span> <span style=color:#f6f8fa;background-color:#82071e>Ã‰</span><span style=color:#1f2328>tape</span> <span style=color:#1f2328>2.4</span> : <span style=color:#cf222e>Interface</span> <span style=color:#1f2328>Admin</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>###</span> <span style=color:#0550ae>**</span><span style=color:#1f2328>VÃ©rifications</span> <span style=color:#f6f8fa;background-color:#82071e>Ã </span> <span style=color:#1f2328>effectuer</span> <span style=color:#0550ae>:**</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>####</span> <span style=color:#0550ae>**</span><span style=color:#0550ae>1</span><span style=color:#1f2328>.</span> <span style=color:#1f2328>Test</span> <span style=color:#1f2328>de</span> <span style=color:#1f2328>l</span><span style=color:#0a3069>&#39;accÃ¨s admin**
</span></span></span><span style=display:flex><span><span style=color:#0a3069>```bash
</span></span></span><span style=display:flex><span><span style=color:#0a3069># Se connecter en tant qu&#39;</span><span style=color:#1f2328>admin</span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>#</span> <span style=color:#1f2328>admin</span><span style=color:#cf222e>@example</span><span style=color:#1f2328>.</span><span style=color:#1f2328>com</span> <span style=color:#0550ae>/</span> <span style=color:#1f2328>admin123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f6f8fa;background-color:#82071e>#</span> <span style=color:#1f2328>Aller</span> <span style=color:#1f2328>sur</span> <span style=color:#1f2328>http</span><span style=color:#0550ae>:</span><span style=color:#57606a>//localhost:4200/admin
</span></span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> L&rsquo;interface admin s&rsquo;affiche correctement</li><li><input disabled type=checkbox> Les onglets &ldquo;Utilisateurs&rdquo; et &ldquo;Tickets&rdquo; sont prÃ©sents</li><li><input disabled type=checkbox> La liste des utilisateurs s&rsquo;affiche</li><li><input disabled type=checkbox> La liste des tickets s&rsquo;affiche</li><li><input disabled type=checkbox> Les rÃ´les sont correctement affichÃ©s (Admin/User)</li></ul><h4 id=2-test-de-la-gestion-des-utilisateurs><strong>2. Test de la gestion des utilisateurs</strong></h4><ul><li><input disabled type=checkbox> Voir tous les utilisateurs dans le tableau</li><li><input disabled type=checkbox> Les admins sont marquÃ©s comme &ldquo;protÃ©gÃ©s&rdquo;</li><li><input disabled type=checkbox> PossibilitÃ© de supprimer un utilisateur normal</li><li><input disabled type=checkbox> Confirmation avant suppression</li></ul><h4 id=3-test-de-la-gestion-des-tickets><strong>3. Test de la gestion des tickets</strong></h4><ul><li><input disabled type=checkbox> Voir tous les tickets dans le tableau</li><li><input disabled type=checkbox> Les statuts sont correctement affichÃ©s (Todo, In Progress, Done)</li><li><input disabled type=checkbox> Les prioritÃ©s sont correctement affichÃ©es (High, Medium, Low)</li><li><input disabled type=checkbox> PossibilitÃ© de supprimer un ticket</li><li><input disabled type=checkbox> Bouton &ldquo;Assigner&rdquo; prÃ©sent (fonctionnalitÃ© Ã  implÃ©menter)</li></ul><h4 id=4-test-de-la-navigation><strong>4. Test de la navigation</strong></h4><ul><li><input disabled type=checkbox> Changement d&rsquo;onglet fonctionne</li><li><input disabled type=checkbox> Les donnÃ©es se rechargent correctement</li><li><input disabled type=checkbox> Pas d&rsquo;erreurs dans la console</li></ul><p><strong>ğŸ”§ Debug en cas de problÃ¨me :</strong></p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les permissions</span>
</span></span><span style=display:flex><span>F12 â†’ Console â†’ VÃ©rifier les logs d<span style=color:#f6f8fa;background-color:#82071e>&#39;</span>authentification
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les donnÃ©es</span>
</span></span><span style=display:flex><span>F12 â†’ Application â†’ Local Storage â†’ VÃ©rifier le token
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>
### **Explication technique : Signals vs Observables**

#### **ğŸ“¡ Signals (Angular 20+)**
- **Performance optimale** : DÃ©tection de changements ultra-rapide
- **Syntaxe simplifiÃ©e** : `signal()` et `computed()` plus intuitifs
- **Tree-shaking** : Meilleure optimisation du bundle
- **RÃ©activitÃ© granulaire** : Seuls les composants qui utilisent le signal se mettent Ã  jour

#### **ğŸ”„ Observables (RxJS)**
- **Puissance** : OpÃ©rateurs avancÃ©s (map, filter, switchMap, etc.)
- **Annulation** : PossibilitÃ© d&#39;annuler les requÃªtes
- **Composition** : Combinaison de plusieurs streams
- **MaturitÃ©** : Ã‰cosystÃ¨me riche et stable

#### **ğŸ¯ Quand utiliser quoi ?**
- **Signals** : Ã‰tat local simple, performance critique
- **Observables** : RequÃªtes HTTP, Ã©vÃ©nements complexes, composition de streams

---

## ğŸ”§ Ã‰tape 2.5 : Intercepteurs HTTP

### **Pourquoi les Intercepteurs ?**

Les intercepteurs permettent de traiter toutes les requÃªtes HTTP de maniÃ¨re centralisÃ©e :

#### **ğŸ” Authentification**
- **Ajout automatique des tokens** : Pas besoin de les ajouter manuellement
- **Gestion des erreurs 401** : Redirection automatique vers login
- **Refresh des tokens** : Renouvellement transparent

#### **ğŸ“Š Monitoring**
- **Logs centralisÃ©s** : Toutes les requÃªtes sont loggÃ©es
- **MÃ©triques** : Temps de rÃ©ponse, taux d&#39;erreur
- **Debugging** : Facilite le dÃ©bogage des problÃ¨mes rÃ©seau

### **CrÃ©ation de l&#39;intercepteur d&#39;authentification**

```typescript
// src/app/core/interceptors/auth.interceptor.ts
import { Injectable } from &#39;@angular/core&#39;;
import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse } from &#39;@angular/common/http&#39;;
import { Observable, throwError } from &#39;rxjs&#39;;
import { catchError, switchMap } from &#39;rxjs/operators&#39;;
import { AuthService } from &#39;../../features/auth/services/auth.service&#39;;
import { Router } from &#39;@angular/router&#39;;

@Injectable()
export class AuthInterceptor implements HttpInterceptor {
  constructor(
    private authService: AuthService,
    private router: Router
  ) {}

  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {
    // Ajouter le token d&#39;authentification si disponible
    const token = this.authService.getToken();
    if (token) {
      request = request.clone({
        setHeaders: {
          Authorization: `Bearer ${token}`
        }
      });
    }

    return next.handle(request).pipe(
      catchError((error: HttpErrorResponse) =&gt; {
        if (error.status === 401) {
          // Token expirÃ© ou invalide
          this.authService.logout();
          this.router.navigate([&#39;/auth/login&#39;]);
        }
        return throwError(() =&gt; error);
      })
    );
  }
}
</code></pre><h3 id=configuration-de-l><strong>Configuration de l&rsquo;intercepteur</strong></h3><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#57606a>// src/app/app.config.ts
</span></span></span><span style=display:flex><span><span style=color:#57606a></span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>ApplicationConfig</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/core&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>provideRouter</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/router&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>provideHttpClient</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>withInterceptors</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;@angular/common/http&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>routes</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;./app.routes&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>import</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>authInterceptor</span> <span style=color:#1f2328>}</span> <span style=color:#cf222e>from</span> <span style=color:#0a3069>&#39;./core/interceptors/auth.interceptor&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>export</span> <span style=color:#cf222e>const</span> <span style=color:#1f2328>appConfig</span>: <span style=color:#cf222e>ApplicationConfig</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>providers</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>[</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>provideRouter</span><span style=color:#1f2328>(</span><span style=color:#1f2328>routes</span><span style=color:#1f2328>),</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>provideHttpClient</span><span style=color:#1f2328>(</span>
</span></span><span style=display:flex><span>      <span style=color:#1f2328>withInterceptors</span><span style=color:#1f2328>([</span><span style=color:#1f2328>authInterceptor</span><span style=color:#1f2328>])</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>]</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=explication-technique--intercepteurs-vs-middleware><strong>Explication technique : Intercepteurs vs Middleware</strong></h3><h4 id=-intercepteurs-angular><strong>ğŸ”§ Intercepteurs Angular</strong></h4><ul><li><strong>CÃ´tÃ© client</strong> : ExÃ©cutÃ©s dans le navigateur</li><li><strong>Modification des requÃªtes</strong> : Ajout d&rsquo;headers, transformation du body</li><li><strong>Gestion des rÃ©ponses</strong> : Transformation des donnÃ©es, gestion d&rsquo;erreurs</li><li><strong>ChaÃ®nage</strong> : Plusieurs intercepteurs peuvent s&rsquo;enchaÃ®ner</li></ul><h4 id=-ordre-d><strong>ğŸ”„ Ordre d&rsquo;exÃ©cution</strong></h4><ol><li><strong>Intercepteurs sortants</strong> : Modifient les requÃªtes avant envoi</li><li><strong>RequÃªte HTTP</strong> : Envoi au serveur</li><li><strong>Intercepteurs entrants</strong> : Traitent la rÃ©ponse</li><li><strong>Composant</strong> : ReÃ§oit les donnÃ©es finales</li></ol><hr><h2 id=-test-fonctionnel---Ã©tape-25--intercepteurs-http>ğŸ§ª Test fonctionnel - Ã‰tape 2.5 : Intercepteurs HTTP</h2><h3 id=vÃ©rifications-Ã -effectuer--2><strong>VÃ©rifications Ã  effectuer :</strong></h3><h4 id=1-test-de-l><strong>1. Test de l&rsquo;intercepteur d&rsquo;authentification</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Ouvrir les DevTools (F12)</span>
</span></span><span style=display:flex><span><span style=color:#57606a># Aller dans l&#39;onglet Network</span>
</span></span><span style=display:flex><span><span style=color:#57606a># Se connecter Ã  l&#39;application</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Les requÃªtes HTTP incluent le header <code>Authorization: Bearer &lt;token></code></li><li><input disabled type=checkbox> Le token est automatiquement ajoutÃ© aux requÃªtes</li><li><input disabled type=checkbox> Pas d&rsquo;erreur 401 lors des requÃªtes authentifiÃ©es</li></ul><h4 id=2-test-de-la-gestion-des-erreurs-401><strong>2. Test de la gestion des erreurs 401</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Simuler une erreur 401 (token expirÃ©)</span>
</span></span><span style=display:flex><span><span style=color:#57606a># Modifier le token dans le localStorage pour le rendre invalide</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… Tests Ã  rÃ©aliser :</strong></p><ul><li><input disabled type=checkbox> Redirection automatique vers <code>/auth/login</code> en cas d&rsquo;erreur 401</li><li><input disabled type=checkbox> Le token invalide est supprimÃ©</li><li><input disabled type=checkbox> L&rsquo;utilisateur est dÃ©connectÃ© automatiquement</li></ul><h4 id=3-test-des-requÃªtes-non-authentifiÃ©es><strong>3. Test des requÃªtes non authentifiÃ©es</strong></h4><ul><li><input disabled type=checkbox> Les requÃªtes vers <code>/auth/*</code> ne doivent pas avoir de token</li><li><input disabled type=checkbox> Pas d&rsquo;erreur pour les routes publiques</li><li><input disabled type=checkbox> Les requÃªtes vers les API protÃ©gÃ©es incluent le token</li></ul><p><strong>ğŸ”§ Debug en cas de problÃ¨me :</strong></p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les headers des requÃªtes</span>
</span></span><span style=display:flex><span>F12 â†’ Network â†’ Cliquer sur une requÃªte â†’ Headers
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier le token dans le localStorage</span>
</span></span><span style=display:flex><span>F12 â†’ Application â†’ Local Storage â†’ VÃ©rifier le token
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a># VÃ©rifier les logs de l&#39;intercepteur</span>
</span></span><span style=display:flex><span>F12 â†’ Console â†’ VÃ©rifier les logs d<span style=color:#f6f8fa;background-color:#82071e>&#39;</span>interception
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-test-fonctionnel---validation-complÃ¨te-de-la-partie-2>ğŸ§ª Test fonctionnel - Validation complÃ¨te de la Partie 2</h2><h3 id=test-d><strong>Test d&rsquo;intÃ©gration global</strong></h3><h4 id=1-parcours-utilisateur-complet><strong>1. Parcours utilisateur complet</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Test complet de l&#39;application</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… ScÃ©nario Ã  tester :</strong></p><ol><li><input disabled type=checkbox> Aller sur <code>/auth/register</code> et crÃ©er un nouveau compte</li><li><input disabled type=checkbox> Se connecter avec le nouveau compte</li><li><input disabled type=checkbox> Naviguer vers <code>/todos</code> et crÃ©er quelques tickets</li><li><input disabled type=checkbox> Changer le statut des tickets</li><li><input disabled type=checkbox> Se dÃ©connecter et se reconnecter</li><li><input disabled type=checkbox> VÃ©rifier que les donnÃ©es persistent</li></ol><h4 id=2-parcours-admin-complet><strong>2. Parcours admin complet</strong></h4><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#57606a># Test de l&#39;interface admin</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>âœ… ScÃ©nario Ã  tester :</strong></p><ol><li><input disabled type=checkbox> Se connecter en tant qu&rsquo;admin</li><li><input disabled type=checkbox> Aller sur <code>/admin</code></li><li><input disabled type=checkbox> Voir la liste des utilisateurs et tickets</li><li><input disabled type=checkbox> Supprimer un ticket</li><li><input disabled type=checkbox> Supprimer un utilisateur (non admin)</li><li><input disabled type=checkbox> VÃ©rifier que les suppressions fonctionnent</li></ol><h4 id=3-test-de-sÃ©curitÃ©><strong>3. Test de sÃ©curitÃ©</strong></h4><ul><li><input disabled type=checkbox> Essayer d&rsquo;accÃ©der Ã  <code>/admin</code> sans Ãªtre admin â†’ redirection</li><li><input disabled type=checkbox> Essayer d&rsquo;accÃ©der Ã  <code>/todos</code> sans Ãªtre connectÃ© â†’ redirection</li><li><input disabled type=checkbox> VÃ©rifier que les guards fonctionnent correctement</li></ul><h4 id=4-test-des-intercepteurs-http><strong>4. Test des intercepteurs HTTP</strong></h4><ul><li><input disabled type=checkbox> VÃ©rifier les logs dans la console lors des requÃªtes</li><li><input disabled type=checkbox> Tester les notifications toast (login, logout, erreurs)</li><li><input disabled type=checkbox> VÃ©rifier que les tokens sont ajoutÃ©s aux headers</li><li><input disabled type=checkbox> Tester la gestion des erreurs 401/403/500</li></ul><h4 id=5-test-de-performance><strong>5. Test de performance</strong></h4><ul><li><input disabled type=checkbox> Chargement initial rapide</li><li><input disabled type=checkbox> Navigation fluide entre les pages</li><li><input disabled type=checkbox> Lazy loading fonctionne</li><li><input disabled type=checkbox> Pas de fuites mÃ©moire</li></ul><p><strong>ğŸ¯ CritÃ¨res de rÃ©ussite :</strong></p><ul><li>âœ… Tous les formulaires fonctionnent avec validation</li><li>âœ… L&rsquo;authentification est sÃ©curisÃ©e avec tokens JWT</li><li>âœ… Les guards protÃ¨gent les routes efficacement</li><li>âœ… L&rsquo;interface admin est complÃ¨te avec statistiques</li><li>âœ… Les intercepteurs gÃ¨rent les tokens et erreurs</li><li>âœ… SystÃ¨me de notifications fonctionnel</li><li>âœ… Pas d&rsquo;erreurs dans la console</li><li>âœ… Performance satisfaisante</li></ul><hr><h2 id=-Ã©tat-actuel-de-lapplication>ğŸ¯ Ã‰tat actuel de l&rsquo;application</h2><h3 id=fonctionnalitÃ©s-implÃ©mentÃ©es-><strong>FonctionnalitÃ©s implÃ©mentÃ©es :</strong></h3><ul><li>âœ… <strong>Authentification complÃ¨te</strong> : Login/Register avec validation</li><li>âœ… <strong>Formulaires rÃ©actifs</strong> : Validation en temps rÃ©el, gestion d&rsquo;erreurs</li><li>âœ… <strong>Guards de protection</strong> : AuthGuard et AdminGuard</li><li>âœ… <strong>Lazy loading</strong> : Chargement Ã  la demande des modules</li><li>âœ… <strong>Interface admin avancÃ©e</strong> : Gestion des utilisateurs et tickets avec statistiques</li><li>âœ… <strong>Intercepteurs HTTP</strong> : Gestion centralisÃ©e des requÃªtes et authentification</li><li>âœ… <strong>Validation avancÃ©e</strong> : Validateurs personnalisÃ©s et gestion d&rsquo;erreurs</li><li>âœ… <strong>SystÃ¨me de notifications</strong> : Toast notifications avec ErrorService</li><li>âœ… <strong>Gestion des tokens JWT</strong> : Authentification automatique avec intercepteurs</li></ul><h3 id=concepts-maÃ®trisÃ©s-><strong>Concepts maÃ®trisÃ©s :</strong></h3><ul><li><strong>ReactiveFormsModule</strong> : FormBuilder, FormGroup, FormControl</li><li><strong>Validators</strong> : Built-in et personnalisÃ©s (passwordMatchValidator)</li><li><strong>Route Guards</strong> : CanActivateFn, protection des routes</li><li><strong>Lazy Loading</strong> : Performance et organisation du code</li><li><strong>Interceptors HTTP</strong> : Gestion centralisÃ©e des requÃªtes et authentification</li><li><strong>Signals</strong> : Ã‰tat rÃ©actif moderne d&rsquo;Angular 20+</li><li><strong>ErrorService</strong> : Gestion centralisÃ©e des erreurs et notifications</li><li><strong>Toast Notifications</strong> : Interface utilisateur pour les feedbacks</li></ul><h3 id=prÃªt-pour-la-partie-3-><strong>PrÃªt pour la Partie 3 :</strong></h3><ul><li>âœ… Formulaires complexes et validation avancÃ©e</li><li>âœ… Gestion d&rsquo;Ã©tat avec Signals</li><li>âœ… Services avec cache et optimisation</li><li>âœ… Tests unitaires et d&rsquo;intÃ©gration</li></ul><hr><p><em>ğŸ’¡ <strong>Conseil du mentor :</strong> Les formulaires rÃ©actifs sont plus puissants que les formulaires template-driven. Prenez le temps de comprendre la diffÃ©rence et quand utiliser chacun. Les Guards et Intercepteurs sont essentiels pour la sÃ©curitÃ© de vos applications.</em></p><p><em>ğŸ”§ <strong>Conseil qualitÃ© :</strong> La validation des formulaires est cruciale pour l&rsquo;expÃ©rience utilisateur. Utilisez des validateurs personnalisÃ©s pour des rÃ¨gles mÃ©tier complexes. Les Guards protÃ¨gent votre application des accÃ¨s non autorisÃ©s.</em></p><p><em>âš¡ <strong>Conseil ESLint :</strong> Respectez toujours les rÃ¨gles de linting. Utilisez <code>inject()</code> au lieu de l&rsquo;injection par constructeur, Ã©vitez les variables inutilisÃ©es, et prÃ©fÃ©rez <code>console.warn</code>/<code>console.error</code> Ã  <code>console.log</code>. Un code propre est plus maintenable.</em></p><hr><h2 id=-prÃ©paration-pour-la-partie-3>ğŸš€ PrÃ©paration pour la Partie 3</h2><h3 id=objectifs-de-la-partie-3-><strong>Objectifs de la Partie 3 :</strong></h3><ul><li>ğŸ¨ <strong>Composants rÃ©utilisables</strong> : CrÃ©ation de composants gÃ©nÃ©riques</li><li>ğŸ”„ <strong>Gestion d&rsquo;Ã©tat avancÃ©e</strong> : Services avec cache, optimisation</li><li>ğŸ§ª <strong>Tests unitaires</strong> : Tests des composants et services</li><li>ğŸ“± <strong>Responsive design</strong> : Interface adaptative</li><li>ğŸ¯ <strong>Performance</strong> : Optimisation et lazy loading avancÃ©</li></ul><h3 id=concepts-Ã -maÃ®triser-><strong>Concepts Ã  maÃ®triser :</strong></h3><ul><li><strong>Composants standalone</strong> : Architecture moderne d&rsquo;Angular</li><li><strong>Services avec cache</strong> : Optimisation des performances</li><li><strong>Tests unitaires</strong> : Jasmine et TestBed</li><li><strong>Responsive design</strong> : Tailwind CSS avancÃ©</li><li><strong>Performance</strong> : OnPush strategy, trackBy functions</li></ul><h3 id=prÃ©requis-validÃ©s-><strong>PrÃ©requis validÃ©s :</strong></h3><ul><li>âœ… Authentification et autorisation</li><li>âœ… Formulaires rÃ©actifs avec validation</li><li>âœ… Guards et intercepteurs</li><li>âœ… Interface admin fonctionnelle</li><li>âœ… Architecture DDD solide</li></ul><hr><p><em>ğŸ¯ <strong>PrÃªt pour la Partie 3 !</strong> Votre application a maintenant une authentification complÃ¨te et des formulaires robustes. Dans la Partie 3, nous nous concentrerons sur la crÃ©ation de composants rÃ©utilisables et l&rsquo;optimisation des performances.</em></p></article></main><footer class="bg-gray-800 text-white py-8 mt-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class=text-center><p>&copy; 2025 Cours Angular 5Ã¨me annÃ©e. Tous droits rÃ©servÃ©s.</p><p class="text-gray-400 mt-2">Cours Angular 20+ pour les Ã©tudiants de 5Ã¨me annÃ©e</p></div></div></footer><script>document.addEventListener("DOMContentLoaded",function(){Prism.highlightAll()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})</script></body></html>