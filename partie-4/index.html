<!doctype html><html lang=fr-fr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>- Cours Angular 5√®me ann√©e</title><meta name=description content="Cours complet Angular 20+ pour les √©tudiants de 5√®me ann√©e"><script src=https://cdn.tailwindcss.com></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><style>.prose{max-width:none;margin:0 auto;width:100%}body{background-color:#2c2c2c;color:#f0f0f0;overflow-x:auto}.prose *{box-sizing:border-box}.prose>*{display:block;width:fit-content}.prose h1,.prose h2,.prose h3,.prose h4{color:#f0f0f0;font-weight:700;display:block;width:100%}.prose h1{font-size:2.25rem;margin-top:2rem;margin-bottom:1rem}.prose h2{font-size:1.875rem;margin-top:1.5rem;margin-bottom:.75rem}.prose h3{font-size:1.5rem;margin-top:1.25rem;margin-bottom:.5rem}.prose code{background-color:transparent;padding:.25rem .5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;color:#000;border:none;display:inline}.prose pre{background-color:#fff;color:#000;padding:1.5rem;border-radius:.75rem;overflow-x:auto;margin:1.5rem 0;border:1px solid #e5e7eb;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);display:block;width:100%;box-sizing:border-box}.prose blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#d1d5db}.prose table{width:100%;border-collapse:collapse;margin:1rem 0}.prose th,.prose td{border:1px solid #4a5568;padding:.5rem;text-align:left;color:#f0f0f0}.prose th{background-color:#374151;font-weight:600;color:#f0f0f0}.prose ul,.prose ol{padding-left:1.5rem;margin:1rem 0;display:block}.prose li{margin:.25rem 0;display:list-item}.prose img{max-width:100%;height:auto;border-radius:.5rem;margin:1rem 0;display:block}.prose .highlight{background-color:#f59e0b;color:#1f2937;padding:.125rem .25rem;border-radius:.25rem}.prose .warning{background-color:#7f1d1d;border:1px solid #dc2626;color:#fecaca;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .info{background-color:#1e3a8a;border:1px solid #3b82f6;color:#bfdbfe;padding:1rem;border-radius:.5rem;margin:1rem 0}.prose .success{background-color:#14532d;border:1px solid #22c55e;color:#bbf7d0;padding:1rem;border-radius:.5rem;margin:1rem 0}</style></head><body class=min-h-screen><nav class="bg-blue-600 text-white shadow-lg"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href=https://gaiaetmarkus.github.io/hugo-angular-5eme/ class="flex items-center space-x-2"><i class="fab fa-angular text-2xl"></i>
<span class="text-xl font-bold">Cours Angular 5√®me ann√©e</span></a></div><div class="flex items-center space-x-4"><a href=/hugo-angular-5eme/introduction/ class="hover:text-blue-200 transition-colors">Introduction
</a><a href=/hugo-angular-5eme/partie-1/ class="hover:text-blue-200 transition-colors">Partie 1
</a><a href=/hugo-angular-5eme/partie-2/ class="hover:text-blue-200 transition-colors">Partie 2
</a><a href=/hugo-angular-5eme/partie-3/ class="hover:text-blue-200 transition-colors">Partie 3
</a><a href=/hugo-angular-5eme/partie-4/ class="hover:text-blue-200 transition-colors">Partie 4
</a><a href=/hugo-angular-5eme/partie-5/ class="hover:text-blue-200 transition-colors">Partie 5</a></div></div></div></nav><main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><article class="prose prose-lg mx-auto text-gray-100"><h1></h1><time datetime=0001-01-01T00:00:00+00:00>January 1, 1</time><h1 id=partie-4--tests-performance-et-d√©ploiement>Partie 4 : Tests, Performance et D√©ploiement</h1><h2 id=-objectifs-de-la-partie-4>üéØ Objectifs de la Partie 4</h2><p>√Ä la fin de cette partie, vous serez capable de :</p><ul><li>‚úÖ √âcrire des tests unitaires, d&rsquo;int√©gration et e2e avec Angular</li><li>‚úÖ Optimiser les performances avec OnPush strategy, trackBy, lazy loading</li><li>‚úÖ Configurer et d√©ployer une application Angular en production</li><li>‚úÖ Appliquer les bonnes pratiques de code review et refactoring</li></ul><hr><h2 id=-√©tape-41--tests-unitaires-et-dint√©gration>üß™ √âtape 4.1 : Tests Unitaires et d&rsquo;Int√©gration</h2><h3 id=pourquoi-les-tests-sont-essentiels-><strong>Pourquoi les tests sont essentiels ?</strong></h3><p>Les tests garantissent la <strong>qualit√© du code</strong> et la <strong>fiabilit√© de l&rsquo;application</strong> :</p><ul><li><strong>üîç D√©tection pr√©coce des bugs</strong> : Probl√®mes identifi√©s avant la production</li><li><strong>üõ°Ô∏è Refactoring s√©curis√©</strong> : Modifications sans casser les fonctionnalit√©s existantes</li><li><strong>üìö Documentation vivante</strong> : Les tests expliquent le comportement attendu</li><li><strong>üöÄ Confiance en d√©ploiement</strong> : D√©ploiement automatique avec tests automatis√©s</li></ul><h3 id=types-de-tests-angular><strong>Types de tests Angular</strong></h3><h4 id=1-tests-unitaires-unit-tests><strong>1. Tests unitaires (Unit Tests)</strong></h4><p>Testent une <strong>fonction ou classe isol√©e</strong> :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// Test d&#39;un service
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;TodoService&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>service</span>: <span class=kt>TodoService</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>TestBed</span><span class=p>.</span><span class=nx>configureTestingModule</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span> <span class=o>=</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should create&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>).</span><span class=nx>toBeTruthy</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should add todo correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Test&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-tests-d><strong>2. Tests d&rsquo;int√©gration (Integration Tests)</strong></h4><p>Testent l&rsquo;<strong>interaction entre composants</strong> :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// Test d&#39;un composant avec ses d√©pendances
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;TodoListComponent&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>component</span>: <span class=kt>TodoListComponent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>fixture</span>: <span class=kt>ComponentFixture</span><span class=p>&lt;</span><span class=nt>TodoListComponent</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>todoService</span>: <span class=kt>jasmine.SpyObj</span><span class=p>&lt;</span><span class=nt>TodoService</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>spy</span> <span class=o>=</span> <span class=nx>jasmine</span><span class=p>.</span><span class=nx>createSpyObj</span><span class=p>(</span><span class=s1>&#39;TodoService&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;getAllTodos&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>spy</span><span class=p>.</span><span class=nx>getAllTodos</span><span class=p>.</span><span class=nx>and</span><span class=p>.</span><span class=nx>returnValue</span><span class=p>(</span><span class=k>of</span><span class=p>([]));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>configureTestingModule</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>imports</span><span class=o>:</span> <span class=p>[</span><span class=nx>TodoListComponent</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nx>providers</span><span class=o>:</span> <span class=p>[{</span> <span class=nx>provide</span>: <span class=kt>TodoService</span><span class=p>,</span> <span class=nx>useValue</span>: <span class=kt>spy</span> <span class=p>}]</span>
</span></span><span class=line><span class=cl>    <span class=p>}).</span><span class=nx>compileComponents</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fixture</span> <span class=o>=</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>createComponent</span><span class=p>(</span><span class=nx>TodoListComponent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>component</span> <span class=o>=</span> <span class=nx>fixture</span><span class=p>.</span><span class=nx>componentInstance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>todoService</span> <span class=o>=</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>)</span> <span class=kr>as</span> <span class=nx>jasmine</span><span class=p>.</span><span class=nx>SpyObj</span><span class=p>&lt;</span><span class=nt>TodoService</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should load todos on init&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fixture</span><span class=p>.</span><span class=nx>detectChanges</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>todoService</span><span class=p>.</span><span class=nx>getAllTodos</span><span class=p>).</span><span class=nx>toHaveBeenCalled</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=tests-des-composants-personnalis√©s><strong>Tests des composants personnalis√©s</strong></h3><h4 id=1-test-du-prioritypipe><strong>1. Test du PriorityPipe</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/shared/pipes/priority.pipe.spec.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>PriorityPipe</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./priority.pipe&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;PriorityPipe&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>pipe</span>: <span class=kt>PriorityPipe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>pipe</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PriorityPipe</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should create an instance&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>).</span><span class=nx>toBeTruthy</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should translate low priority to &#34;Faible&#34;&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;low&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Faible&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should translate medium priority to &#34;Moyenne&#34;&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;medium&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Moyenne&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should translate high priority to &#34;Haute&#34;&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;high&#39;</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;Haute&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should return original value for unknown priority&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>pipe</span><span class=p>.</span><span class=nx>transform</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span> <span class=kr>as</span> <span class=kt>any</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;unknown&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-test-du-todoservice-avec-signals><strong>2. Test du TodoService avec Signals</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/features/todos/services/todo.service.spec.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>TestBed</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core/testing&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>TodoService</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;./todo.service&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Todo</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;../models/todo.model&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;TodoService&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>service</span>: <span class=kt>TodoService</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>TestBed</span><span class=p>.</span><span class=nx>configureTestingModule</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span> <span class=o>=</span> <span class=nx>TestBed</span><span class=p>.</span><span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should be created&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>).</span><span class=nx>toBeTruthy</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should initialize with empty todos&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should add todo correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Test Todo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;Test Description&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>todos</span><span class=p>()[</span><span class=mi>0</span><span class=p>]).</span><span class=nx>toEqual</span><span class=p>(</span><span class=nx>todo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should compute completed todos correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo1</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 1&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;done&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;low&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo2</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 2&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>completedTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>completedTodos</span><span class=p>()[</span><span class=mi>0</span><span class=p>].</span><span class=nx>id</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;1&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should compute pending todos correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo1</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 1&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;low&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo2</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 2&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;in-progress&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>pendingTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>pendingTodos</span><span class=p>()[</span><span class=mi>0</span><span class=p>].</span><span class=nx>id</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;1&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should compute in-progress todos correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo1</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 1&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;low&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo2</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 2&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;in-progress&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>inProgressTodos</span><span class=p>().</span><span class=nx>length</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>inProgressTodos</span><span class=p>()[</span><span class=mi>0</span><span class=p>].</span><span class=nx>id</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;2&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should compute stats correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo1</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 1&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;done&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo2</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 2&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;todo&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>todo3</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Todo 3&#39;</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;in-progress&#39;</span><span class=p>,</span> <span class=nx>priority</span><span class=o>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span> <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>service</span><span class=p>.</span><span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>stats</span> <span class=o>=</span> <span class=nx>service</span><span class=p>.</span><span class=nx>todoStats</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>total</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>completed</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>pending</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>inProgress</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>highPriority</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>stats</span><span class=p>.</span><span class=nx>completionRate</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=mf>33.33333333333333</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-42--optimisations-de-performance>‚ö° √âtape 4.2 : Optimisations de Performance</h2><h3 id=pourquoi-optimiser-les-performances-><strong>Pourquoi optimiser les performances ?</strong></h3><p>Les optimisations am√©liorent l&rsquo;<strong>exp√©rience utilisateur</strong> et la <strong>r√©activit√© de l&rsquo;application</strong> :</p><ul><li><strong>üöÄ Temps de chargement r√©duit</strong> : Pages plus rapides</li><li><strong>‚ö° Interactions fluides</strong> : Pas de lag lors des interactions</li><li><strong>üì± Support mobile</strong> : Applications performantes sur tous les appareils</li><li><strong>üí∞ Co√ªts r√©duits</strong> : Moins de ressources serveur n√©cessaires</li></ul><h3 id=strat√©gies-d><strong>Strat√©gies d&rsquo;optimisation Angular</strong></h3><h4 id=1-changedetectionstrategyonpush><strong>1. ChangeDetectionStrategy.OnPush</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/features/todos/components/todo-list.component.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Component</span><span class=p>,</span> <span class=nx>inject</span><span class=p>,</span> <span class=nx>ChangeDetectionStrategy</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/core&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Component</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>selector</span><span class=o>:</span> <span class=s1>&#39;app-todo-list&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>standalone</span>: <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>imports</span><span class=o>:</span> <span class=p>[</span><span class=nx>CommonModule</span><span class=p>,</span> <span class=nx>PriorityPipe</span><span class=p>,</span> <span class=nx>HighlightDirective</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>changeDetection</span>: <span class=kt>ChangeDetectionStrategy.OnPush</span><span class=p>,</span> <span class=c1>// ‚ö° Optimisation
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>template</span><span class=o>:</span> <span class=sb>`...`</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoListComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>todoService</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Avantages :</strong></p><ul><li>D√©tection de changements uniquement quand les r√©f√©rences changent</li><li>R√©duction drastique des cycles de d√©tection</li><li>Performance am√©lior√©e pour les gros composants</li></ul><h4 id=2-trackby-pour-les-listes><strong>2. TrackBy pour les listes</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/features/todos/components/todo-list.component.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoListComponent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>todoService</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=nx>TodoService</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// ‚ö° Optimisation : TrackBy pour √©viter la recr√©ation des √©l√©ments
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>trackByTodoId</span><span class=p>(</span><span class=nx>index</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>todo</span>: <span class=kt>Todo</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- Template avec trackBy --&gt;</span>
</span></span><span class=line><span class=cl>@for (todo of todoService.pendingTodos(); track trackByTodoId) {
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;todo-item&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ todo.title }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h4 id=3-lazy-loading-avanc√©><strong>3. Lazy Loading avanc√©</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/app/app.routes.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Routes</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@angular/router&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>routes</span>: <span class=kt>Routes</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;todos&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>loadChildren</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./features/todos/todos.routes&#39;</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span><span class=nx>m</span> <span class=o>=&gt;</span> <span class=nx>m</span><span class=p>.</span><span class=nx>TODOS_ROUTES</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;admin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>loadChildren</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./features/admin/admin.routes&#39;</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span><span class=nx>m</span> <span class=o>=&gt;</span> <span class=nx>m</span><span class=p>.</span><span class=nx>ADMIN_ROUTES</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>canActivate</span><span class=o>:</span> <span class=p>[</span><span class=nx>authGuard</span><span class=p>,</span> <span class=nx>adminGuard</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=4-optimisation-des-bundles><strong>4. Optimisation des bundles</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// angular.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;projects&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;angular-todolist&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;architect&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;build&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;configurations&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;production&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;optimization&#34;</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;outputHashing&#34;</span><span class=o>:</span> <span class=s2>&#34;all&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;sourceMap&#34;</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;namedChunks&#34;</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;aot&#34;</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;extractLicenses&#34;</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;vendorChunk&#34;</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;buildOptimizer&#34;</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;budgets&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;initial&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;maximumWarning&#34;</span><span class=o>:</span> <span class=s2>&#34;2mb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;maximumError&#34;</span><span class=o>:</span> <span class=s2>&#34;5mb&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;anyComponentStyle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;maximumWarning&#34;</span><span class=o>:</span> <span class=s2>&#34;6kb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=s2>&#34;maximumError&#34;</span><span class=o>:</span> <span class=s2>&#34;10kb&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>              <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-43--build-et-d√©ploiement>üöÄ √âtape 4.3 : Build et D√©ploiement</h2><h3 id=configuration-de-production><strong>Configuration de production</strong></h3><h4 id=1-variables-d><strong>1. Variables d&rsquo;environnement</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/environments/environment.ts (d√©veloppement)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>const</span> <span class=nx>environment</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>production</span>: <span class=kt>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>apiUrl</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3000/api&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span><span class=o>:</span> <span class=s1>&#39;1.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// src/environments/environment.prod.ts (production)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kr>const</span> <span class=nx>environment</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>production</span>: <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>apiUrl</span><span class=o>:</span> <span class=s1>&#39;https://api.monapp.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span><span class=o>:</span> <span class=s1>&#39;1.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-configuration-de-build><strong>2. Configuration de build</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// angular.json - Configuration production
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;production&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;budgets&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;initial&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;maximumWarning&#34;</span><span class=p>:</span> <span class=s2>&#34;2mb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;maximumError&#34;</span><span class=p>:</span> <span class=s2>&#34;5mb&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;fileReplacements&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;replace&#34;</span><span class=p>:</span> <span class=s2>&#34;src/environments/environment.ts&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;with&#34;</span><span class=p>:</span> <span class=s2>&#34;src/environments/environment.prod.ts&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;outputHashing&#34;</span><span class=p>:</span> <span class=s2>&#34;all&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;sourceMap&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;namedChunks&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;aot&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;extractLicenses&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;vendorChunk&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;buildOptimizer&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=d√©ploiement-sur-diff√©rentes-plateformes><strong>D√©ploiement sur diff√©rentes plateformes</strong></h3><h4 id=1-d√©ploiement-sur-vercel><strong>1. D√©ploiement sur Vercel</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// vercel.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;builds&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;src&#34;</span><span class=p>:</span> <span class=s2>&#34;package.json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;use&#34;</span><span class=p>:</span> <span class=s2>&#34;@vercel/static-build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;config&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;distDir&#34;</span><span class=p>:</span> <span class=s2>&#34;dist/angular-todolist&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;routes&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;src&#34;</span><span class=p>:</span> <span class=s2>&#34;/(.*)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;dest&#34;</span><span class=p>:</span> <span class=s2>&#34;/index.html&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-d√©ploiement-sur-netlify><strong>2. D√©ploiement sur Netlify</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=c># netlify.toml</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>build</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>publish</span> <span class=p>=</span> <span class=s2>&#34;dist/angular-todolist&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>command</span> <span class=p>=</span> <span class=s2>&#34;npm run build&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>redirects</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>  <span class=nx>from</span> <span class=p>=</span> <span class=s2>&#34;/*&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>to</span> <span class=p>=</span> <span class=s2>&#34;/index.html&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>status</span> <span class=p>=</span> <span class=mi>200</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=3-cicd-pipeline-complet><strong>3. CI/CD Pipeline complet</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .github/workflows/ci-cd.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CI/CD Pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main, develop ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Node.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;20&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>cache</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;npm&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm ci</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run linting</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run lint</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run unit tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm test -- --watch=false --browsers=ChromeHeadless</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upload build artifacts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/upload-artifact@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>build-files</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>dist/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download build artifacts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/download-artifact@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>build-files</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>dist/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        # D√©ploiement selon la plateforme choisie
</span></span></span><span class=line><span class=cl><span class=sd>        echo &#34;Deploying to production...&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tape-44--bonnes-pratiques-et-code-review>üìã √âtape 4.4 : Bonnes Pratiques et Code Review</h2><h3 id=standards-de-code><strong>Standards de code</strong></h3><h4 id=1-eslint-configuration-avanc√©e><strong>1. ESLint Configuration avanc√©e</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// eslint.config.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>js</span> <span class=nx>from</span> <span class=s1>&#39;@eslint/js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>angular</span> <span class=nx>from</span> <span class=s1>&#39;@angular-eslint/eslint-plugin&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>angularTemplate</span> <span class=nx>from</span> <span class=s1>&#39;@angular-eslint/eslint-plugin-template&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nx>js</span><span class=p>.</span><span class=nx>configs</span><span class=p>.</span><span class=nx>recommended</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>files</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;**/*.ts&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nx>plugins</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint&#39;</span><span class=o>:</span> <span class=nx>angular</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>rules</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=p>...</span><span class=nx>angular</span><span class=p>.</span><span class=nx>configs</span><span class=p>.</span><span class=nx>recommended</span><span class=p>.</span><span class=nx>rules</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/prefer-inject&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-empty-lifecycle-method&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/use-lifecycle-interface&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-output-native&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-input-rename&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-output-rename&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/use-component-selector&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/use-directive-selector&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-conflicting-lifecycle&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-host-metadata-property&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-inputs-metadata-property&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-outputs-metadata-property&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-queries-metadata-property&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/contextual-lifecycle&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/no-lifecycle-call&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/use-pipe-transform-interface&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/pipe-prefix&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/component-class-suffix&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/directive-class-suffix&#39;</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/component-selector&#39;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;element&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>prefix</span><span class=o>:</span> <span class=s1>&#39;app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>style</span><span class=o>:</span> <span class=s1>&#39;kebab-case&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@angular-eslint/directive-selector&#39;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;error&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;attribute&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>prefix</span><span class=o>:</span> <span class=s1>&#39;app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>style</span><span class=o>:</span> <span class=s1>&#39;camelCase&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=2-husky-hooks-avanc√©s><strong>2. Husky Hooks avanc√©s</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// package.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scripts&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;prepare&#34;</span><span class=p>:</span> <span class=s2>&#34;husky install&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;lint&#34;</span><span class=p>:</span> <span class=s2>&#34;ng lint&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;lint:fix&#34;</span><span class=p>:</span> <span class=s2>&#34;ng lint --fix&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;ng test&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;test:coverage&#34;</span><span class=p>:</span> <span class=s2>&#34;ng test --code-coverage&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;e2e&#34;</span><span class=p>:</span> <span class=s2>&#34;ng e2e&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;build&#34;</span><span class=p>:</span> <span class=s2>&#34;ng build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;build:prod&#34;</span><span class=p>:</span> <span class=s2>&#34;ng build --configuration production&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;analyze&#34;</span><span class=p>:</span> <span class=s2>&#34;ng build --stats-json &amp;&amp; webpack-bundle-analyzer dist/angular-todolist/stats.json&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;husky&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;hooks&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;pre-commit&#34;</span><span class=p>:</span> <span class=s2>&#34;lint-staged&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;pre-push&#34;</span><span class=p>:</span> <span class=s2>&#34;npm run test:coverage&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;lint-staged&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;*.{ts,js}&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;eslint --fix&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;prettier --write&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;*.{html,css,scss,json,md}&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;prettier --write&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=code-review-checklist><strong>Code Review Checklist</strong></h3><h4 id=1-checklist-g√©n√©rale><strong>1. Checklist G√©n√©rale</strong></h4><ul><li><input disabled type=checkbox> <strong>Lisibilit√©</strong> : Le code est-il facile √† comprendre ?</li><li><input disabled type=checkbox> <strong>Performance</strong> : Y a-t-il des optimisations possibles ?</li><li><input disabled type=checkbox> <strong>S√©curit√©</strong> : Y a-t-il des vuln√©rabilit√©s potentielles ?</li><li><input disabled type=checkbox> <strong>Tests</strong> : Les tests couvrent-ils les nouveaux cas ?</li><li><input disabled type=checkbox> <strong>Documentation</strong> : Les changements sont-ils document√©s ?</li></ul><h4 id=2-checklist-angular-sp√©cifique><strong>2. Checklist Angular Sp√©cifique</strong></h4><ul><li><input disabled type=checkbox> <strong>Signals</strong> : Utilisation correcte des Signals vs Observables ?</li><li><input disabled type=checkbox> <strong>OnPush</strong> : ChangeDetectionStrategy.OnPush utilis√© quand appropri√© ?</li><li><input disabled type=checkbox> <strong>TrackBy</strong> : TrackBy utilis√© pour les listes ?</li><li><input disabled type=checkbox> <strong>Lazy Loading</strong> : Modules charg√©s de mani√®re lazy ?</li><li><input disabled type=checkbox> <strong>Injection</strong> : <code>inject()</code> utilis√© au lieu du constructeur ?</li><li><input disabled type=checkbox> <strong>Standalone</strong> : Composants standalone utilis√©s ?</li><li><input disabled type=checkbox> <strong>Types</strong> : Types TypeScript stricts utilis√©s ?</li></ul><h4 id=3-checklist-performance><strong>3. Checklist Performance</strong></h4><ul><li><input disabled type=checkbox> <strong>Bundle Size</strong> : Taille du bundle optimis√©e ?</li><li><input disabled type=checkbox> <strong>Images</strong> : Images optimis√©es et lazy loaded ?</li><li><input disabled type=checkbox> <strong>Caching</strong> : Strat√©gie de cache appropri√©e ?</li><li><input disabled type=checkbox> <strong>CDN</strong> : Ressources statiques servies via CDN ?</li><li><input disabled type=checkbox> <strong>Compression</strong> : Gzip/Brotli activ√© ?</li></ul><h3 id=documentation-du-code><strong>Documentation du code</strong></h3><h4 id=1-jsdoc-pour-les-services><strong>1. JSDoc pour les services</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Service de gestion des todos avec Signals
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * Ce service utilise les Signals d&#39;Angular 20+ pour une gestion d&#39;√©tat
</span></span></span><span class=line><span class=cl><span class=cm> * performante et r√©active. Il fournit des computed signals pour
</span></span></span><span class=line><span class=cl><span class=cm> * les statistiques et le filtrage des todos.
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * @example
</span></span></span><span class=line><span class=cl><span class=cm> * ```typescript
</span></span></span><span class=line><span class=cl><span class=cm> * const todoService = inject(TodoService);
</span></span></span><span class=line><span class=cl><span class=cm> * const completedTodos = todoService.completedTodos();
</span></span></span><span class=line><span class=cl><span class=cm> * const stats = todoService.todoStats();
</span></span></span><span class=line><span class=cl><span class=cm> * ```
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>@Injectable</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>providedIn</span><span class=o>:</span> <span class=s1>&#39;root&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>TodoService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * Signal writable contenant tous les todos
</span></span></span><span class=line><span class=cl><span class=cm>   * @private
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>todos</span> <span class=o>=</span> <span class=nx>signal</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=err>[]</span><span class=p>&gt;([]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * Signal readonly pour acc√©der aux todos depuis l&#39;ext√©rieur
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>todos$</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>asReadonly</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * Signal computed pour les todos compl√©t√©s
</span></span></span><span class=line><span class=cl><span class=cm>   * @returns {Signal&lt;Todo[]&gt;} Todos avec status &#39;done&#39;
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kr>public</span> <span class=nx>completedTodos</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=o>=&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>().</span><span class=nx>filter</span><span class=p>(</span><span class=nx>todo</span> <span class=o>=&gt;</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=s1>&#39;done&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * Ajoute un nouveau todo
</span></span></span><span class=line><span class=cl><span class=cm>   * @param {Todo} todo - Le todo √† ajouter
</span></span></span><span class=line><span class=cl><span class=cm>   * @returns {Promise&lt;Todo&gt;} Le todo ajout√© avec ID g√©n√©r√©
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kr>async</span> <span class=nx>addTodo</span><span class=p>(</span><span class=nx>todo</span>: <span class=kt>Omit</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>&gt;)</span><span class=o>:</span> <span class=nx>Promise</span><span class=p>&lt;</span><span class=nt>Todo</span><span class=p>&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>newTodo</span>: <span class=kt>Todo</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=p>...</span><span class=nx>todo</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span>: <span class=kt>this.generateId</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=nx>createdAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=nx>updatedAt</span>: <span class=kt>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>todos</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span><span class=nx>todos</span> <span class=o>=&gt;</span> <span class=p>[...</span><span class=nx>todos</span><span class=p>,</span> <span class=nx>newTodo</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>newTodo</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * G√©n√®re un ID unique pour un todo
</span></span></span><span class=line><span class=cl><span class=cm>   * @private
</span></span></span><span class=line><span class=cl><span class=cm>   * @returns {string} ID unique
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>generateId</span><span class=p>()</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>().</span><span class=nx>toString</span><span class=p>()</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-√©tat-actuel-de-lapplication>üéØ √âtat actuel de l&rsquo;application</h2><h3 id=fonctionnalit√©s-impl√©ment√©es-><strong>Fonctionnalit√©s impl√©ment√©es :</strong></h3><ul><li>‚úÖ <strong>Tests complets</strong> : Unit, integration et e2e tests</li><li>‚úÖ <strong>Optimisations de performance</strong> : OnPush strategy, trackBy, lazy loading</li><li>‚úÖ <strong>Build de production</strong> : Configuration optimis√©e</li><li>‚úÖ <strong>D√©ploiement</strong> : Multi-plateformes (Vercel, Netlify, GitHub Pages, Firebase)</li><li>‚úÖ <strong>CI/CD</strong> : Pipeline automatis√© avec tests et d√©ploiement</li><li>‚úÖ <strong>Bonnes pratiques</strong> : ESLint strict, Prettier, Husky hooks</li><li>‚úÖ <strong>Documentation</strong> : JSDoc, README complet</li></ul><h3 id=concepts-ma√Ætris√©s-><strong>Concepts ma√Ætris√©s :</strong></h3><ul><li><strong>Tests Angular</strong> : Jasmine, TestBed, ComponentFixture, Playwright</li><li><strong>Performance</strong> : ChangeDetectionStrategy, OnPush, trackBy, lazy loading</li><li><strong>Build et d√©ploiement</strong> : Angular CLI, multi-environnements, CI/CD</li><li><strong>Bonnes pratiques</strong> : Code review, refactoring, documentation</li></ul><h3 id=pr√™t-pour-la-partie-5-><strong>Pr√™t pour la Partie 5 :</strong></h3><ul><li>‚úÖ Tests complets et automatis√©s</li><li>‚úÖ Performance optimis√©e</li><li>‚úÖ D√©ploiement automatis√©</li><li>‚úÖ Code de qualit√© professionnelle</li></ul><hr><p><em>üí° <strong>Conseil du mentor :</strong> Les tests ne sont pas une option, ils sont essentiels pour maintenir la qualit√© du code. Prenez l&rsquo;habitude d&rsquo;√©crire des tests pour chaque nouvelle fonctionnalit√©.</em></p><p><em>üîß <strong>Conseil qualit√© :</strong> Utilisez toujours OnPush strategy pour les composants qui ne changent pas souvent. Cela am√©liore drastiquement les performances.</em></p><hr><h2 id=-pr√©paration-pour-la-partie-5>üöÄ Pr√©paration pour la Partie 5</h2><h3 id=objectifs-de-la-partie-5-><strong>Objectifs de la Partie 5 :</strong></h3><ul><li>üéØ <strong>Projet final complet</strong> : Application TodoList √©tendue</li><li>üîß <strong>Fonctionnalit√©s avanc√©es</strong> : Drag & drop, filtres avanc√©s, export</li><li>üìä <strong>Analytics</strong> : Suivi des performances et m√©triques</li><li>üöÄ <strong>D√©ploiement en production</strong> : Mise en ligne de l&rsquo;application finale</li></ul><h3 id=concepts-√†-ma√Ætriser-><strong>Concepts √† ma√Ætriser :</strong></h3><ul><li><strong>Fonctionnalit√©s avanc√©es</strong> : Drag & drop, filtres complexes, export</li><li><strong>Analytics</strong> : Google Analytics, m√©triques de performance</li><li><strong>Monitoring</strong> : Logs, alertes, surveillance en production</li><li><strong>Maintenance</strong> : Mises √† jour, migrations, support</li></ul><h3 id=pr√©requis-valid√©s-><strong>Pr√©requis valid√©s :</strong></h3><ul><li>‚úÖ Tests complets et automatis√©s</li><li>‚úÖ Performance optimis√©e</li><li>‚úÖ D√©ploiement automatis√©</li><li>‚úÖ Code de qualit√© professionnelle</li><li>‚úÖ Documentation compl√®te</li></ul><hr><p><em>üéØ <strong>Pr√™t pour la Partie 5 !</strong> Votre application a maintenant une base solide avec des tests, des optimisations de performance et un d√©ploiement automatis√©. Dans la Partie 5, nous cr√©erons le projet final avec des fonctionnalit√©s avanc√©es.</em></p></article></main><footer class="bg-gray-800 text-white py-8 mt-16"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class=text-center><p>&copy; 2025 Cours Angular 5√®me ann√©e. Tous droits r√©serv√©s.</p><p class="text-gray-400 mt-2">Cours Angular 20+ pour les √©tudiants de 5√®me ann√©e</p></div></div></footer><script>document.addEventListener("DOMContentLoaded",function(){Prism.highlightAll()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})</script></body></html>